{"version":3,"file":"js/app-legacy.8b3946a0.js","mappings":"6JAEKA,GAAG,W,GAIHA,GAAG,c,GACDA,GAAG,gBAAgBC,MAAM,U,GASzBD,GAAG,eAAeC,MAAM,U,EAhB/B,qB,EAAA,U,EAAA,Y,EAAA,Y,EAAA,qB,EAAA,qB,EAAA,qB,GAoCaA,MAAM,Q,GApCnBC,IAAA,G,GA+COF,GAAG,aAAaC,MAAM,U,EA/C7B,qB,EAAA,a,EAAA,a,EAAA,a,EAAA,a,EAAA,a,EAAA,a,EAAA,Y,GA+DWA,MAAM,Q,EA/DjB,8B,EAAA,uB,6FAAAE,EAAAA,EAAAA,IAAAC,EAAAA,GAAA,qBACAC,EAAAA,EAAAA,IAAe,UAAX,UAAM,KACVA,EAAAA,EAAAA,IAGM,MAHNC,EAGM,EALNC,EAAAA,EAAAA,IAEkB,QACfC,EAAAA,EAAAA,IAAEC,EAAAC,UAAU,aAAU,gBAAAL,EAAAA,EAAAA,IAAK,iCAC9BA,EAAAA,EAAAA,IAA+D,KAA5DM,KAAK,gDAA+C,QAAI,iBAJ3DJ,EAAAA,EAAAA,OAAA,eAIgEF,EAAAA,EAAAA,IAAkE,KAA/DM,KAAK,4CAA2C,eAAW,OAE9HN,EAAAA,EAAAA,IAuEM,MAvENO,EAuEM,EAtEJP,EAAAA,EAAAA,IAQM,MARNQ,EAQM,gBAfRN,EAAAA,EAAAA,IAOyC,mBAErCF,EAAAA,EAAAA,IAIQ,eAHNA,EAAAA,EAAAA,IAA4F,0BAAxFA,EAAAA,EAAAA,IAAoB,UAAhB,eAAW,KAAKA,EAAAA,EAAAA,IAA+D,qBAA3DA,EAAAA,EAAAA,IAAsD,SAA/CS,KAAK,SAV9C,sBAAAC,EAAA,KAAAA,EAAA,GAAAC,GAUuEP,EAAAQ,cAAaD,I,iBAAbP,EAAAQ,mBAAa,GAArBC,QAAR,WACjDb,EAAAA,EAAAA,IAAsH,YAAlHA,EAAAA,EAAAA,IAA4C,0BAXtDE,EAAAA,EAAAA,IAWc,gBAAW,eAAAF,EAAAA,EAAAA,IAAI,qBAX7BE,EAAAA,EAAAA,IAW6B,KAACC,EAAAA,EAAAA,IAAEC,EAAAC,UAAU,UAAO,MAAKL,EAAAA,EAAAA,IAAiE,qBAA7DA,EAAAA,EAAAA,IAAwD,SAAjDS,KAAK,SAXtE,sBAAAC,EAAA,KAAAA,EAAA,GAAAC,GAW+FP,EAAAU,gBAAeH,I,iBAAfP,EAAAU,qBAAe,GAAvBD,QAAR,WACzEb,EAAAA,EAAAA,IAAoG,0BAAhGA,EAAAA,EAAAA,IAAoB,UAAhB,eAAW,KAAKA,EAAAA,EAAAA,IAAuE,qBAAnEA,EAAAA,EAAAA,IAA8D,SAAvDS,KAAK,SAZ9C,sBAAAC,EAAA,KAAAA,EAAA,GAAAC,GAYuEP,EAAAW,sBAAqBJ,I,iBAArBP,EAAAW,2BAAqB,GAA7BF,QAAR,aAEnDb,EAAAA,EAAAA,IAA6D,UAArDS,KAAK,SAAUO,QAAKN,EAAA,KAAAA,EAAA,qBAAEO,EAAAC,eAAAD,EAAAC,iBAAAC,UAAa,IAAE,cAE/CnB,EAAAA,EAAAA,IA8BM,MA9BNoB,EA8BM,gBA9CRlB,EAAAA,EAAAA,IAgBwC,WAEpCF,EAAAA,EAAAA,IAAsD,UAA9CS,KAAK,SAAUO,QAAKN,EAAA,KAAAA,EAAA,qBAAEO,EAAAI,aAAAJ,EAAAI,eAAAF,UAAW,IAAE,OAC3CnB,EAAAA,EAAAA,IAAyD,UAAjDS,KAAK,SAAUO,QAAKN,EAAA,KAAAA,EAAA,GAAAC,GAAEM,EAAAK,eAAc,QAAI,eAChDtB,EAAAA,EAAAA,IAAK,mCACLF,EAAAA,EAAAA,IAwBMC,EAAAA,GAAA,MA7CVwB,EAAAA,EAAAA,IAqBiCnB,EAAAoB,aArBjCC,IAqB4B,IAAAC,GAAAC,EAAAA,EAAAA,GAAAF,EAAA,GAAXG,EAACF,EAAA,GAAEG,EAAQH,EAAA,G,kBAAxB5B,EAAAA,EAAAA,IAwBM,OAxBqCD,IAAK+B,EAAGhC,MAAM,iB,EACvDI,EAAAA,EAAAA,IAsBM,aArBJA,EAAAA,EAAAA,IAAoH,SAA7G8B,KAAK,KAAMC,MAAOF,EAASG,KAAOC,SAAMtB,GAAEP,EAAA8B,mBAAmB,CAAEN,IAACO,KAAA,OAAAC,IAAmBzB,EAAO0B,OAAON,S,QAvBhHO,GAAA,eAuB4HtC,EAAAA,EAAAA,IAAM,mCAvBlIE,EAAAA,EAAAA,IAuBkI,UACvHF,EAAAA,EAAAA,IAAgI,SAAzH8B,KAAK,KAAKS,SAAA,GAAUR,WAAiCS,IAA1BpC,EAAAqC,eAAeC,IAAId,GAAmB,IAAMX,EAAA0B,aAAavC,EAAAqC,eAAeC,IAAId,GAAGgB,a,OAxB5HC,IAyBQ7C,EAAAA,EAAAA,IAAkE,UAA1DS,KAAK,SAAUO,QAAKL,GAAEM,EAAA6B,kBAAkBlB,IAAI,QAAK,EAzBjEmB,IA0BQ/C,EAAAA,EAAAA,IAA4D,UAApDS,KAAK,SAAUO,QAAKL,GAAEM,EAAA+B,eAAepB,IAAI,KAAE,EA1B3DqB,GAAA,eA0BoEjD,EAAAA,EAAAA,IAAK,mCA1BzEE,EAAAA,EAAAA,IA0ByE,cAEjEF,EAAAA,EAAAA,IAAkJ,SAA1I+B,MAAOF,EAASqB,SAAWjB,SAAMtB,GAAEP,EAAA8B,mBAAmB,CAAEN,IAACO,KAAA,WAAAC,IAAuBe,SAASxC,EAAO0B,OAAON,SAAWtB,KAAK,SAAS2C,IAAI,K,QA5BpJC,GAAA,eAAAnD,EAAAA,EAAAA,IA4B0J,cAElJF,EAAAA,EAAAA,IAAkK,SAA1J+B,MAAOF,EAASyB,iBAAmBrB,SAAMtB,GAAEP,EAAA8B,mBAAmB,CAAEN,IAACO,KAAA,mBAAAC,IAA+Be,SAASxC,EAAO0B,OAAON,SAAWtB,KAAK,SAAS2C,IAAI,K,QA9BpKG,GAAA,eA+BQvD,EAAAA,EAAAA,IAAM,qBA/BdE,EAAAA,EAAAA,IA+Bc,YACCC,EAAAA,EAAAA,IAAEC,EAAAoD,MAAMnD,UAAU,SACzB,IAAAL,EAAAA,EAAAA,IAAsJ,SAA9I+B,MAAOF,EAAS4B,WAAaxB,SAAMtB,GAAEP,EAAA8B,mBAAmB,CAAEN,IAACO,KAAA,aAAAC,IAAyBe,SAASxC,EAAO0B,OAAON,SAAWtB,KAAK,SAAS2C,IAAI,K,QAjCxJM,GAAA,eAkCQ1D,EAAAA,EAAAA,IAAM,mCAlCdE,EAAAA,EAAAA,IAkCc,aAENF,EAAAA,EAAAA,IAOM,MAPN2D,EAOM,gBANJ7D,EAAAA,EAAAA,IAEMC,EAAAA,GAAA,MAvChBwB,EAAAA,EAAAA,IAqCgCnB,EAAAwD,yBAAyBlB,IAAId,IAAvCiC,K,WAAZ/D,EAAAA,EAAAA,IAEM,OAFkDD,IAAKgE,EAAOlE,GAAIC,MAAM,c,QAC1EiE,EAAO7B,MAAI,M,MAEkC,IAAtC5B,EAAAwD,yBAAyBlB,IAAId,GAAGkC,SAAM,WAAjDhE,EAAAA,EAAAA,IAEM,MA1ChBiE,EAwCiE,WAxCjEC,EAAAA,EAAAA,IAAA,gB,SA+CEhE,EAAAA,EAAAA,IA6BM,MA7BNiE,EA6BM,gBA5ER/D,EAAAA,EAAAA,IA+CsC,aAElCF,EAAAA,EAAAA,IAAoD,UAA5CS,KAAK,SAAUO,QAAKN,EAAA,KAAAA,EAAA,qBAAEN,EAAA8D,WAAA9D,EAAA8D,aAAA/C,UAAS,IAAE,MAAE,eAASnB,EAAAA,EAAAA,IAAK,mCACzDF,EAAAA,EAAAA,IAyBMC,EAAAA,GAAA,MA3EVwB,EAAAA,EAAAA,IAkD+BnB,EAAA+D,WAlD/BC,IAkD0B,IAAAC,GAAA1C,EAAAA,EAAAA,GAAAyC,EAAA,GAATxC,EAACyC,EAAA,GAAER,EAAMQ,EAAA,G,kBAAtBvE,EAAAA,EAAAA,IAyBM,OAzBiCD,IAAK+B,EAAGhC,MAAM,e,EACnDI,EAAAA,EAAAA,IAWM,aAVJA,EAAAA,EAAAA,IAAsG,SAA9F+B,MAAO8B,EAAO7B,KAAOC,SAAMtB,GAAEP,EAAAkE,iBAAiB,CAAE1C,IAACO,KAAA,OAAAC,IAAmBzB,EAAO0B,OAAON,S,QApDlGwC,IAqDQvE,EAAAA,EAAAA,IAOS,UAPAiC,SAAMtB,GAAEP,EAAAkE,iBAAiB,CAAE1C,IAACO,KAAA,MAAAC,IAAkBe,SAASxC,EAAO0B,OAAON,U,EAC5E/B,EAAAA,EAAAA,IAAuE,UAA9D+B,MAAO,EAAUyC,SAAyB,IAAfX,EAAOY,KAAW,WAAQ,EAtDxEC,GAAA,eAuDU1E,EAAAA,EAAAA,IAA8B,YAApB2E,MAAM,cAAY,WAC5B3E,EAAAA,EAAAA,IAAkF,UAAzE+B,MAAO,EAAUyC,SAAyB,IAAfX,EAAOY,KAAW,KAACtE,EAAAA,EAAAA,IAAEC,EAAAwE,UAAU,SAAM,EAxDnFC,IAyDU7E,EAAAA,EAAAA,IAAkF,UAAzE+B,MAAO,EAAUyC,SAAyB,IAAfX,EAAOY,KAAW,KAACtE,EAAAA,EAAAA,IAAEC,EAAAwE,UAAU,SAAM,EAzDnFE,IA0DU9E,EAAAA,EAAAA,IAAkF,UAAzE+B,MAAO,EAAUyC,SAAyB,IAAfX,EAAOY,KAAW,KAACtE,EAAAA,EAAAA,IAAEC,EAAAwE,UAAU,SAAM,EA1DnFG,IA2DU/E,EAAAA,EAAAA,IAAkF,UAAzE+B,MAAO,EAAUyC,SAAyB,IAAfX,EAAOY,KAAW,KAACtE,EAAAA,EAAAA,IAAEC,EAAAwE,UAAU,SAAM,EA3DnFI,IAAA,GAAAC,IA6DQjF,EAAAA,EAAAA,IAA0D,UAAlDS,KAAK,SAAUO,QAAKL,GAAEP,EAAA8E,aAAatD,IAAI,KAAE,EA7DzDuD,GAAA,eA6DkEnF,EAAAA,EAAAA,IAAK,uBAEjEA,EAAAA,EAAAA,IAWM,MAXNoF,EAWM,gBAVJtF,EAAAA,EAAAA,IASMC,EAAAA,GAAA,MAzEdwB,EAAAA,EAAAA,IAgE8CnB,EAAAoB,aAhE9C6D,IAgEyC,IAAAC,GAAA3D,EAAAA,EAAAA,GAAA0D,EAAA,GAApBE,EAAUD,EAAA,GAAEzD,EAAQyD,EAAA,G,kBAAjCxF,EAAAA,EAAAA,IASM,OAT8CD,IAAK0F,GAAU,EACjEvF,EAAAA,EAAAA,IAGQ,eAFNA,EAAAA,EAAAA,IACgD,SADzCS,KAAK,QAASuB,KAAI,SAAWwD,OAAO5D,GAAK6D,QAAS5B,EAAO6B,YAAcH,EAC3EtD,SAAMtB,GAAEM,EAAA0E,mBAAmB/D,EAAG2D,I,QAnE7CK,IAAA1F,EAAAA,EAAAA,IAmE4D,KAACC,EAAAA,EAAAA,IAAE0B,EAASG,MAAI,MAElEhC,EAAAA,EAAAA,IAGQ,eAFNA,EAAAA,EAAAA,IAC6D,SADtDS,KAAK,WAAYgF,QAAS5B,EAAOgC,eAAenD,IAAI6C,GACxDtD,SAAMtB,GAAEM,EAAA6E,wBAAwBnF,EAAQiB,EAAG2D,I,QAvE1DQ,GAAA,eAAA7F,EAAAA,EAAAA,IAuEyE,cAC/D,I,4BAM4DsC,IAAvCpC,EAAAoB,YAAYkB,IAAItC,EAAA4F,qBAAgC,WAA/EC,EAAAA,EAAAA,IACmHC,EAAA,CA/EnHrG,IAAA,EA8EUsG,IAAI,WAAoE,YAAW/F,EAAAoB,YAAYkB,IAAItC,EAAA4F,mBAC1GI,MAAOhG,EAAA4F,kBAAoBK,gBAAepF,EAAAqF,cAAgBC,SAAQtF,EAAAuF,aAAeC,cAAcxF,EAAAyF,e,6EA/ElG1C,EAAAA,EAAAA,IAAA,YAgF2ExB,IAA1CpC,EAAAqC,eAAeC,IAAItC,EAAA4F,qBAAgC,WAApFC,EAAAA,EAAAA,IACsFU,EAAA,CAjFtF9G,IAAA,EAgFWsG,IAAI,YAAwE,aAAY/F,EAAAqC,eAAeC,IAAItC,EAAA4F,mBACnHI,MAAOhG,EAAA4F,kBAAoBO,SAAQtF,EAAA2F,cAAgBH,cAAcxF,EAAA4F,gB,4DAjFpE7C,EAAAA,EAAAA,IAAA,W,6ECEA,MAAM8C,EAkCJC,WAAAA,CAAWtF,GAUR,IATDuF,EAAevF,EAAfuF,gBAAiBC,EAAOxF,EAAPwF,QACjBC,EAAczF,EAAdyF,eAAgBC,EAAgB1F,EAAhB0F,iBAChBC,EAAM3F,EAAN2F,OAAQC,EAAgB5F,EAAhB4F,iBACRC,EAAe7F,EAAf6F,gBAAiBC,EAAyB9F,EAAzB8F,0BACjBC,EAAiB/F,EAAjB+F,kBAAmBC,EAA2BhG,EAA3BgG,4BACnBC,EAAgBjG,EAAhBiG,iBAAkBC,EAA0BlG,EAA1BkG,2BAClBC,EAAcnG,EAAdmG,eAAgBC,EAA+BpG,EAA/BoG,gCAChBC,EAAqBrG,EAArBqG,sBAAuBC,EAA2BtG,EAA3BsG,4BACvBC,EAAevG,EAAfuG,gBAEAC,KAAKjB,gBAAkBA,EACvBiB,KAAKhB,QAAUA,EACfgB,KAAKf,eAAiBA,EACtBe,KAAKd,iBAAmBA,EACxBc,KAAKb,OAASA,EACda,KAAKZ,iBAAmBA,EACxBY,KAAKX,gBAAkBA,EACvBW,KAAKV,0BAA4BA,EACjCU,KAAKT,kBAAoBA,EACzBS,KAAKR,4BAA8BA,EACnCQ,KAAKP,iBAAmBA,EACxBO,KAAKN,2BAA6BA,EAClCM,KAAKL,eAAiBA,EACtBK,KAAKJ,gCAAkCA,EACvCI,KAAKH,sBAAwBA,EAC7BG,KAAKF,4BAA8BA,EACnCE,KAAKD,gBAAkBA,CACzB,CAOAE,qBAAAA,CAAuBC,GACrB,IAAIC,EAAeC,KAAKC,MAAMH,EAASI,IAAMN,KAAKZ,kBAC9CD,EAASa,KAAKb,OAOlB,OAN+B,IAA3Be,EAASK,gBACXpB,GAAU,GAERgB,EAAehB,IACjBgB,EAAehB,GAEVgB,CACT,CAOAK,wBAAAA,CAA0BC,GACxB,IAAIC,EAAuB,EACrBC,EAAc,CAClB/C,eAAgB,EAChBgD,kBAAmB,EACnBC,iBAAkB,EAClBC,oBAAqB,GA0DvB,OAtDId,KAAKD,gBACPU,EAAQM,QACN,SAAUC,EAAiBC,GACzB,OAAQA,EAAUzE,KAChB,KAAK,EACL,KAAK,EACL,KAAK,EACCyE,EAAUrD,eACZoD,EAAgBpD,iBAEhBoD,EAAgBJ,oBAElB,MACF,KAAK,EACL,KAAK,EACCK,EAAUrD,eACZoD,EAAgBH,mBAEhBG,EAAgBF,sBAElB,MAEJ,OAAOE,CACT,GACEL,GAEJF,EAAQM,QACN,SAAUC,EAAiBC,GACzB,OAAQA,EAAUzE,KAChB,KAAK,EACL,KAAK,EACCyE,EAAUrD,eACZoD,EAAgBpD,iBAEhBoD,EAAgBJ,oBAElB,MACF,KAAK,EACL,KAAK,EACCK,EAAUrD,eACZoD,EAAgBH,mBAEhBG,EAAgBF,sBAElB,MAEJ,OAAOE,CACT,GACEL,GAEND,IAAyBC,EAAY/C,eAAiB+C,EAAYC,mBAAqBZ,KAAKX,gBAC5FqB,GAAwBC,EAAY/C,eAAiBoC,KAAKV,0BAC1DoB,IAAyBC,EAAYE,iBAAmBF,EAAYG,qBAAuBd,KAAKT,kBAChGmB,GAAwBC,EAAYE,iBAAmBb,KAAKR,4BACrDkB,CACT,CAOAQ,yBAAAA,CAA2BhB,GACzB,IAAIjF,EAAW,EAMf,OAJEA,EADE+E,KAAKD,gBACIG,EAASjF,SAAWiF,EAAS7E,iBAE7B6E,EAASjF,SAAWiF,EAAS7E,iBAAmB6E,EAAS1E,WAE/DwE,KAAKP,iBAAmBxE,CACjC,CAQAkG,mCAAAA,CAAqCjB,EAAUO,GAC7C,IAAIW,EAAqBlB,EAAS7E,iBAAmB6E,EAASmB,wBAW9D,OAVAD,GAAsBX,EAAQM,QAC5B,SAAUO,EAAOL,GACf,OAAsB,IAAlBA,EAAUzE,KACZ8E,IACOA,GAEAA,CAEX,GACA,GACKtB,KAAKN,2BAA6B0B,CAC3C,CAOAG,+CAAAA,CAAiDrB,GAC/C,IAAIsB,EAAW,EACXC,EAAkB,EAClBzB,KAAKD,iBAGPyB,EAAWtB,EAASsB,SAAWtB,EAASwB,wBAA0BxB,EAASyB,wBAC3EF,EAAkBvB,EAASyB,0BAE3BH,EAAWtB,EAASsB,SAAWtB,EAAS0B,WAAa1B,EAASwB,wBAC9DD,EAAkBvB,EAASwB,yBAIzBD,EAAkB,IACpBA,EAAkB,GAEhBD,EAAW,IACbA,EAAW,GAGb,IAAM7B,EAAiBK,KAAKL,eAAiB6B,EACxBxB,KAAKJ,gCAAkC6B,EAExD5B,EAAwB,EAc5B,OAZIF,EAAiB,IACfK,KAAKD,gBACwB,IAA3BG,EAASK,eAAkD,IAA3BL,EAASK,gBAC3CV,EAAwBG,KAAKH,uBAGA,IAA3BK,EAASK,gBACXV,EAAwBG,KAAKH,wBAK5B,CAAEF,iBAAgBE,wBAC3B,CAOAgC,YAAAA,CAAc3B,EAAUO,GACtB,IAAMqB,EAAkB9B,KAAKD,gBACzBG,EAAS6B,wBACT7B,EAAS8B,wBAGPC,EAAWjC,KAAKC,sBAAsBC,GACtCjB,EAA4C,IAA3BiB,EAASK,cAAsBP,KAAKf,eAAiB,EACtEC,EAA8C,IAA3BgB,EAASK,cAAsBP,KAAKd,iBAAmB,EAC1EY,EAA8BI,EAASgC,eAAiBlC,KAAKF,4BAA8B,EAC3FT,EAAkBW,KAAKQ,yBAAyBC,GAChDhB,EAAmBO,KAAKkB,0BAA0BhB,GACxDiC,EAAkDnC,KAAKuB,gDAAgDrB,GAA/FP,EAAcwC,EAAdxC,eAAgBE,EAAqBsC,EAArBtC,sBAClBH,EAA6BM,KAAKmB,oCAAoCjB,EAAUO,GAClF2B,EAAgBlC,EAASmC,OAASJ,EAAWH,EAC7B7C,EAAiBC,EAAmBY,EACpCT,EAAkBI,EAAmBC,EACrCC,EAAiBE,EACjCyC,EAAuBpC,EAASmC,OAASJ,EAAWH,EACpDM,EAAgB,IAClBA,EAAgB,GAEdE,EAAuB,IACzBA,EAAuB,GAIzB,IAGoCC,EAHhCC,EAAY,EACZC,EAAiB,EACfC,EAA0B,GAAEC,GAAAC,EAAAA,EAAAA,GAClB5C,KAAKjB,iBAAe,IAApC,IAAA4D,EAAAE,MAAAN,EAAAI,EAAAG,KAAAC,MAAsC,KAA3BpJ,EAAC4I,EAAAzI,MACV,GAAIsI,EAAgBI,EAAY7I,EAAEqJ,KAAM,CACtC,IAAMC,EAAYb,EAAgBI,EAC5BU,EAAU9C,KAAKC,MAAM4C,EAAYtJ,EAAEwJ,KAAO,KAChDT,EAAwBU,KAAK,CAAEJ,KAAMC,EAAWE,KAAMxJ,EAAEwJ,KAAME,IAAKH,IACnET,GAAkBS,EAClB,KACF,CACEV,GAAa7I,EAAEqJ,KACf,IAAME,EAAUvJ,EAAEqJ,KAAOrJ,EAAEwJ,KAAO,IAClCT,EAAwBU,KAAK,CAAEJ,KAAMrJ,EAAEqJ,KAAMG,KAAMxJ,EAAEwJ,KAAME,IAAKH,IAChET,GAAkBS,CAEtB,CAEA,OAAAI,GAAAX,EAAAY,EAAAD,EAAA,SAAAX,EAAAa,GAAA,CACAhB,EAAY,EACZ,IAE4BiB,EAFxBC,EAAa,EACXC,EAAsB,GAAEC,GAAAhB,EAAAA,EAAAA,GACd5C,KAAKhB,SAAO,IAA5B,IAAA4E,EAAAf,MAAAY,EAAAG,EAAAd,KAAAC,MAA8B,KAAnBpJ,EAAC8J,EAAA3J,MACV,GAAIwI,EAAuBE,EAAY7I,EAAEqJ,KAAM,CAC7C,IAAMC,EAAYX,EAAuBE,EACnCU,EAAU9C,KAAKC,MAAM4C,EAAYtJ,EAAEwJ,KAAO,KAChDQ,EAAoBP,KAAK,CAAEJ,KAAMC,EAAWE,KAAMxJ,EAAEwJ,KAAME,IAAKH,IAC/DQ,GAAcR,EACd,KACF,CACEV,GAAa7I,EAAEqJ,KACf,IAAME,EAAUvJ,EAAEqJ,KAAOrJ,EAAEwJ,KAAO,IAClCQ,EAAoBP,KAAK,CAAEJ,KAAMrJ,EAAEqJ,KAAMG,KAAMxJ,EAAEwJ,KAAME,IAAKH,IAC5DQ,GAAcR,CAElB,CAAC,OAAAI,GAAAM,EAAAL,EAAAD,EAAA,SAAAM,EAAAJ,GAAA,CAED,IAAMK,EAAY,CAChBxB,OAAQnC,EAASmC,OACjBD,gBACAE,uBACAhC,IAAK2B,EACLhD,iBACAC,mBACAY,8BACAgC,kBACAzC,kBACAI,mBACAE,iBACAE,wBACAH,6BACAgD,0BACAD,iBACAkB,sBACAD,cASF,OAPIjB,GAAkBiB,GACpBG,EAAUV,KAAO,iBACjBU,EAAUR,IAAMZ,IAEhBoB,EAAUV,KAAO,aACjBU,EAAUR,IAAMK,GAEXG,CACT,EAGF,SAASC,EAAWT,GAClB,IAAMU,EAAa,IACbC,EAAY,KACdC,EAAS7D,KAAK8D,KAAKb,EAAMU,EAAa,KAK1C,OAHIE,EAASD,IACXC,EAASD,GAEJC,CACT,CAOA,SAAStJ,EAAYuF,EAAUO,GAC7B,IAAM0D,EAAc,IAAItF,EAAQ,CAC9BE,gBAAiB,CACf,CAAEiE,KAAM,IAAOG,KAAM,GACrB,CAAEH,KAAM,IAAOG,KAAM,GACrB,CAAEH,KAAM,IAAOG,KAAM,IACrB,CAAEH,KAAM,IAAOG,KAAM,IACrB,CAAEH,KAAMoB,IAAUjB,KAAM,KAE1BnE,QAAS,CACP,CAAEgE,KAAM,IAASG,KAAM,IACvB,CAAEH,KAAMoB,IAAUjB,KAAM,KAE1BlE,eAAgB,MAChBC,iBAAkB,MAClBC,OAAQ,KACRC,iBAAkB,EAClBC,gBAAiB,IACjBC,0BAA2B,IAC3BC,kBAAmB,KACnBC,4BAA6B,KAC7BC,iBAAkB,MAClBC,2BAA4B,KAC5BC,eAAgB,KAChBE,sBAAuB,MACvBD,gCAAiC,KACjCE,4BAA6B,KAC7BC,iBAAiB,IAGbsE,EAAc,IAAIxF,EAAQ,CAC9BE,gBAAiB,CACf,CAAEiE,KAAM,IAAOG,KAAM,GACrB,CAAEH,KAAM,IAAOG,KAAM,GACrB,CAAEH,KAAM,IAAOG,KAAM,IACrB,CAAEH,KAAM,IAAOG,KAAM,IACrB,CAAEH,KAAMoB,IAAUjB,KAAM,KAE1BnE,QAAS,CACP,CAAEgE,KAAM,IAASG,KAAM,IACvB,CAAEH,KAAMoB,IAAUjB,KAAM,KAE1BlE,eAAgB,MAChBC,iBAAkB,MAClBC,OAAQ,KACRC,iBAAkB,EAClBC,gBAAiB,IACjBC,0BAA2B,IAC3BC,kBAAmB,KACnBC,4BAA6B,KAC7BC,iBAAkB,MAClBC,2BAA4B,KAC5BC,eAAgB,KAChBE,sBAAuB,MACvBD,gCAAiC,KACjCE,4BAA6B,KAC7BC,iBAAiB,IAGbuE,EAAcH,EAAYtC,aAAa3B,EAAUO,GACjD8D,EAAyBF,EAAYxC,aAAa3B,EAAUO,GAC5DwD,EAASH,EAAUQ,EAAYjB,KAC/BmB,EAAmBF,EAAYjB,IAAMnD,EAASuE,eAAiBR,EAC/DtJ,EAAa2J,EAAYjB,IAAMnD,EAASuE,eAAiBR,EAASM,EAAuBlB,IAC/F,MAAO,CAAEiB,cAAaE,mBAAkBD,yBAAwBG,uBAAwBxE,EAASuE,eAAgBR,SAAQtJ,aAC3H,CAGA,OAAiBkE,UAASiF,YAAWnJ,c,UCpazBgK,G,SAAAC,EAAAA,EAAAA,KAAAC,KAEDC,IAA0BC,GAAAH,EAAAA,EAAAA,KAAAC,KAoB1BG,GApBX,SAAWF,EAA4BG,EAAOC,GAAK,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA5C,EAAAJ,EAAAiD,EAAA7L,EAAA8L,EAAAC,EAAA,OAAAd,EAAAA,EAAAA,KAAAe,MAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAC7CX,EAAU,EACRC,EAAgBH,EAAMpJ,OACtBwJ,EAAgBH,EAAMrJ,OACtByJ,EAAaD,GAAiBD,EAAa,YAC1CD,EAAUG,GAAU,CAAAM,EAAAE,KAAA,SACnBP,EAAY,IAAIQ,IAAKpD,GAAAC,EAAAA,EAAAA,GACTsC,GAAK,IAAvB,IAAAvC,EAAAE,MAAAN,EAAAI,EAAAG,KAAAC,MAAWyC,EAAGjD,EAAAzI,MACZyL,EAAUS,IAAIR,EAAK,GACpB,OAAAlC,GAAAX,EAAAY,EAAAD,EAAA,SAAAX,EAAAa,GAAA,CACD,IAAS7J,EAAI,EAAGA,EAAIyL,EAAezL,IAC3B8L,EAASrF,KAAKC,MAAM8E,EAAWE,GAAiB1L,GAAO0L,EACvDK,EAAYR,EAAMO,GACxBF,EAAU9K,IAAIiL,GAAWO,QAAQhB,EAAMG,EAAgB,EAAIzL,IAG7D,OADAwL,IAASS,EAAAE,KAAA,GACHP,EAAS,QAAAK,EAAAE,KAAA,iCAAAF,EAAAM,OAAA,GAAAvB,EAAA,CAInB,SAAWK,EAA8BI,EAAeF,GAAK,IAAAvL,EAAAwM,EAAAd,EAAAE,EAAA3B,EAAAH,EAAA+B,EAAA,OAAAZ,EAAAA,EAAAA,KAAAe,MAAA,SAAAS,GAAA,eAAAA,EAAAP,KAAAO,EAAAN,MAAA,OACvDnM,EAAI,EACJwM,EAAI,EACFd,EAAgBH,EAAMrJ,OACtB0J,EAAY,IAAIQ,IAAKnC,GAAAhB,EAAAA,EAAAA,GAETsC,GAAK,IAAvB,IAAAtB,EAAAf,MAAAY,EAAAG,EAAAd,KAAAC,MAAWyC,EAAG/B,EAAA3J,MACZyL,EAAUS,IAAIR,EAAK,EACpB,OAAAlC,GAAAM,EAAAL,EAAAD,EAAA,SAAAM,EAAAJ,GAAA,CACD+B,EAAUS,IAAId,EAAM,GAAIE,GAAc,OAGpC,OADSgB,EAAAN,KAAA,GACHP,EAAS,WACXA,EAAU9K,IAAIyK,EAAMG,EAAgB,MAAQD,EAAa,CAAAgB,EAAAN,KAAA,gBAAAM,EAAAC,OAAA,oBAG7D,GAAIF,IAAMd,EAAgB,EAAG,CAC3B,GACEc,UACmC,IAA5BZ,EAAU9K,IAAIyK,EAAMiB,KACzBxM,IAAMwM,GACRZ,EAAUS,IAAId,EAAMvL,GAAI4L,EAAU9K,IAAIyK,EAAMvL,IAAM,GAClDA,IACAwM,EAAIxM,EACJ4L,EAAUS,IAAId,EAAMvL,GAAI4L,EAAU9K,IAAIyK,EAAMG,EAAgB,IAAM,GAC9D1L,IAAM0L,EAAgB,GACxBE,EAAUS,IAAId,EAAMG,EAAgB,GAAI,KAG1CE,EAAUS,IAAId,EAAMiB,GAAIZ,EAAU9K,IAAIyK,EAAMiB,IAAM,GAClDA,IACAZ,EAAUS,IAAId,EAAMiB,GAAIZ,EAAU9K,IAAIyK,EAAMG,EAAgB,IAAM,GAC9Dc,IAAMd,EAAgB,GACxBE,EAAUS,IAAId,EAAMG,EAAgB,GAAI,GAG9C,MACEE,EAAUS,IAAId,EAAMiB,GAAIZ,EAAU9K,IAAIyK,EAAMiB,IAAM,GAClDA,IACAZ,EAAUS,IAAId,EAAMiB,GAAIZ,EAAU9K,IAAIyK,EAAMiB,IAAM,GACnDC,EAAAN,KAAA,iCAAAM,EAAAF,OAAA,GAAAnB,EAAA,CAIL,OACED,6BACAE,gCC/DK,SAAS/L,IACd,IAMsCsJ,EANhC+D,EAAa,GACbC,EAAe,GACfC,EAAQxG,KAAKyG,OAAOD,MACtBE,EAAe,KACfC,EAAavC,IAAQzB,GAAAC,EAAAA,EAAAA,GAET4D,EAAMtK,UAAU0K,QAAM,IAAtC,IAAAjE,EAAAE,MAAAN,EAAAI,EAAAG,KAAAC,MAAwC,KAA7BpJ,EAAC4I,EAAAzI,MACVwM,EAAWlD,KAAKzJ,EAClB,CAAC,OAAA2J,GAAAX,EAAAY,EAAAD,EAAA,SAAAX,EAAAa,GAAA,KAEuCC,EAFvCG,GAAAhB,EAAAA,EAAAA,GAEe4D,EAAMjN,YAAYqN,QAAM,IAAxC,IAAAhD,EAAAf,MAAAY,EAAAG,EAAAd,KAAAC,MAA0C,KAA/BpJ,EAAC8J,EAAA3J,MACVyM,EAAanD,KAAKzJ,EACpB,CAAC,OAAA2J,GAAAM,EAAAL,EAAAD,EAAA,SAAAM,EAAAJ,GAAA,KAE2FqD,EAF3FC,GAAAlE,EAAAA,EAAAA,GAEyBmE,EAAcjC,2BAA2BwB,EAAYC,IAAa,IAA5F,IAAAO,EAAAjE,MAAAgE,EAAAC,EAAAhE,KAAAC,MAA8F,KACWiE,EAD9FC,EAAWJ,EAAA/M,MAAAoN,GAAAtE,EAAAA,EAAAA,GACOmE,EAAc/B,6BAA6BhF,KAAKrH,cAAe4N,IAAa,IAAvG,IAAAW,EAAArE,MAAAmE,EAAAE,EAAApE,KAAAC,MAAyG,KACIoE,EADlGC,EAAYJ,EAAAlN,MAAAuN,GAAAzE,EAAAA,EAAAA,GACQmE,EAAc/B,6BAA6BhF,KAAKnH,gBAAiB0N,IAAa,IAA3G,IAAAc,EAAAxE,MAAAsE,EAAAE,EAAAvE,KAAAC,MAA6G,KACYuE,EAD9GC,EAAcJ,EAAArN,MAAA0N,GAAA5E,EAAAA,EAAAA,GACYmE,EAAc/B,6BAA6BhF,KAAKlH,sBAAuByN,IAAa,IAAvH,IAAAiB,EAAA3E,MAAAyE,EAAAE,EAAA1E,KAAAC,MAAyH,KAA9G0E,EAAoBH,EAAAxN,MACzB4N,EAAW,EACTC,EAAYC,OAAOC,OAAO,CAAC,EAAGrB,GACpCmB,EAAUzL,UAAY,IAAI6J,IAAIS,EAAMtK,WACpCyL,EAAUpO,YAAc,IAAIwM,IAAIS,EAAMjN,aAAY,IACFuO,EADEC,GAAAnF,EAAAA,EAAAA,GACjB4D,EAAMtK,WAAS,IAAhD,IAAA6L,EAAAlF,MAAAiF,EAAAC,EAAAjF,KAAAC,MAAkD,KAAAiF,GAAAtO,EAAAA,EAAAA,GAAAoO,EAAAhO,MAAA,GAAtCmO,EAAQD,EAAA,GAAEpM,EAAMoM,EAAA,GAC1BL,EAAUzL,UAAU8J,IAAIiC,EAAUL,OAAOC,OAAO,CAAC,EAAGjM,GACtD,CAAC,OAAA0H,GAAAyE,EAAAxE,EAAAD,EAAA,SAAAyE,EAAAvE,GAAA,CAED,IACiD0E,EAD3CC,EAA0B,IAAIpC,IAAKqC,GAAAxF,EAAAA,EAAAA,GAChB4D,EAAMjN,YAAYqN,QAAM,IAAjD,IAAAwB,EAAAvF,MAAAqF,EAAAE,EAAAtF,KAAAC,MAAmD,KAAxCsF,EAAUH,EAAApO,MACnBqO,EAAwBnC,IAAIqC,EAAY,IAAG,IACOC,EADPC,GAAA3F,EAAAA,EAAAA,GACpBqE,EAAYxM,IAAI4N,IAAW,IAAlD,IAAAE,EAAA1F,MAAAyF,EAAAC,EAAAzF,KAAAC,MAAoD,KAAzCkF,EAAQK,EAAAxO,MACX8B,EAAS+L,EAAUzL,UAAUzB,IAAIwN,GACjCO,EAAuBL,EAAwB1N,IAAI4N,GACzDzM,EAAO6B,UAAY4K,EACnBG,EAAqBpF,KAAK,CAAE1L,GAAIuQ,EAAUlO,KAAM6B,EAAO7B,KAAMyC,IAAKZ,EAAOY,IAAKoB,eAAgBhC,EAAOgC,eAAenD,IAAImB,EAAO6B,aAC/H0K,EAAwBnC,IAAIpK,EAAO6B,UAAW+K,EAChD,CAAC,OAAAlF,GAAAiF,EAAAhF,EAAAD,EAAA,SAAAiF,EAAA/E,GAAA,CACH,CAAC,OAAAF,GAAA8E,EAAA7E,EAAAD,EAAA,SAAA8E,EAAA5E,GAAA,KAEqDiF,EAFrDC,GAAA9F,EAAAA,EAAAA,GAEoC4D,EAAMjN,aAAW,IAAtD,IAAAmP,EAAA7F,MAAA4F,EAAAC,EAAA5F,KAAAC,MAAwD,KAAA4F,GAAAjP,EAAAA,EAAAA,GAAA+O,EAAA3O,MAAA,GAA5CuO,EAAUM,EAAA,GAAE/O,EAAQ+O,EAAA,GACxBC,EAAgBhB,OAAOC,OAAO,CAAC,EAAGjO,GACxC+N,EAAUpO,YAAYyM,IAAIqC,EAAYO,GAEtCA,EAAc3N,SAAWmM,EAAa3M,IAAI4N,GAC1CO,EAAcpN,WAAa+L,EAAe9M,IAAI4N,GAC9CO,EAAcvN,iBAAmBoM,EAAqBhN,IAAI4N,GAE1D,IAAM1N,EAAakO,EAAQlO,WAAWiO,EAAeT,EAAwB1N,IAAI4N,IACjFX,GAAY/M,EAAWA,UACzB,CAAC,OAAA2I,GAAAoF,EAAAnF,EAAAD,EAAA,SAAAoF,EAAAlF,GAAA,CACGkE,EAAWf,IACbA,EAAae,EACbhB,EAAeiB,GAIjBmB,QAAQC,IAAI,CACVrB,WACAT,YAAa,IAAIlB,IAAIkB,GACrBG,aAAc,IAAIrB,IAAIqB,GACtBG,eAAgB,IAAIxB,IAAIwB,GACxBE,qBAAsB,IAAI1B,IAAI0B,IAElC,CAAC,OAAAnE,GAAAkE,EAAAjE,EAAAD,EAAA,SAAAkE,EAAAhE,GAAA,CACH,CAAC,OAAAF,GAAA+D,EAAA9D,EAAAD,EAAA,SAAA+D,EAAA7D,GAAA,CACH,CAAC,OAAAF,GAAA4D,EAAA3D,EAAAD,EAAA,SAAA4D,EAAA1D,GAAA,CACH,CAAC,OAAAF,GAAAwD,EAAAvD,EAAAD,EAAA,SAAAwD,EAAAtD,GAAA,CACDxD,KAAKyG,OAAOuC,aAAatC,GACzB1G,KAAK3G,YACP,C,OCvDmBS,MAAO,G,GACPA,MAAO,G,GAqBRnC,MAAM,UAAUsR,MAAM,gB,EAzCxC,uB,EAAA,uB,4EACAjL,EAAAA,EAAAA,IAwFkBkL,EAAA,CAxFDnP,KAAK,gBADtBoP,WAC+ChR,EAAAiR,KAD/C,sBAAA3Q,EAAA,MAAAA,EAAA,IAAAC,GAC+CP,EAAAiR,KAAI1Q,GAChD,gBAAc,EAAM2Q,QAAQ,kBAAkB,gBAAc,iB,CAF/DC,SAAAC,EAAAA,EAAAA,KAGE,IAqFM,EArFNxR,EAAAA,EAAAA,IAqFM,aApFJA,EAAAA,EAAAA,IAiFQ,eAhFNA,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAY,UAAR,OAAG,KACPA,EAAAA,EAAAA,IAAsC,qBAAlCA,EAAAA,EAAAA,IAA6B,SAPzC,sBAAAU,EAAA,KAAAA,EAAA,GAAAC,GAOiCM,EAAAe,KAAIrB,I,iBAAJM,EAAAe,UAAI,GAAVyP,MAAR,WAEbzR,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAc,UAAV,SAAK,KACTA,EAAAA,EAAAA,IAAgE,qBAA5DA,EAAAA,EAAAA,IAAuD,SAXnE,sBAAAU,EAAA,KAAAA,EAAA,GAAAC,GAWiCM,EAAAkJ,eAAcxJ,GAAEF,KAAK,Y,iBAArBQ,EAAAkJ,oBAAc,GAApBsH,MAAR,WAEbzR,EAAAA,EAAAA,IAUK,0BATHA,EAAAA,EAAAA,IAAkB,UAAd,aAAS,KACbA,EAAAA,EAAAA,IAOK,qBANLA,EAAAA,EAAAA,IAKS,UArBjB,sBAAAU,EAAA,KAAAA,EAAA,GAAAC,GAgBqCM,EAAAuH,cAAa7H,I,gBACxCX,EAAAA,EAAAA,IAAqC,UAA5B+B,MAAO,GAAG,aAAS,mBAC5B/B,EAAAA,EAAAA,IAAkC,UAAzB+B,MAAO,GAAG,UAAM,KACzB/B,EAAAA,EAAAA,IAAuD,SAAvDC,EAAmB,KAACE,EAAAA,EAAAA,IAAEC,EAAAoD,MAAMoB,UAAU,WAAQ,IAC9C5E,EAAAA,EAAAA,IAAuD,SAAvDO,EAAmB,OAAGJ,EAAAA,EAAAA,IAAEC,EAAAoD,MAAMoB,UAAU,SAAM,gBAJnB3D,EAAAuH,mBAAa,GAA1BiJ,MAAR,EAAa5Q,QAAb,WAQVb,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAY,UAAR,OAAG,KACPA,EAAAA,EAAAA,IAA2E,qBAAvEA,EAAAA,EAAAA,IAAkE,SA1B9E,sBAAAU,EAAA,KAAAA,EAAA,GAAAC,GA0BiCM,EAAAqJ,OAAM3J,GAAEF,KAAK,OAAOiR,QAAQ,gB,iBAA5BzQ,EAAAqJ,YAAM,GAAZmH,MAAR,WAEbzR,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAgH,YAA5GA,EAAAA,EAAAA,IAAuG,QAAjGJ,MAAM,UAAUsR,MAAM,uDAAsD,oBAAc,KACpGlR,EAAAA,EAAAA,IAAwE,qBAApEA,EAAAA,EAAAA,IAA+D,SA9B3E,sBAAAU,EAAA,KAAAA,EAAA,GAAAC,GA8BiCM,EAAAsH,IAAG5H,GAAEF,KAAK,OAAOiR,QAAQ,gB,iBAAzBzQ,EAAAsH,SAAG,GAATkJ,MAAR,WAEbzR,EAAAA,EAAAA,IAGK,YAFHA,EAAAA,EAAAA,IAAuC,UAAnC,OAAGG,EAAAA,EAAAA,IAAEC,EAAAoD,MAAMoB,UAAU,YAAS,IAClC5E,EAAAA,EAAAA,IAA4F,qBAAxFA,EAAAA,EAAAA,IAAmF,SAlC/F,sBAAAU,EAAA,KAAAA,EAAA,GAAAC,GAkCiCM,EAAAgJ,wBAAuBtJ,GAAEF,KAAK,OAAOiR,QAAQ,gB,iBAA7CzQ,EAAAgJ,6BAAuB,GAA7BwH,MAAR,WAEbzR,EAAAA,EAAAA,IAGK,YAFHA,EAAAA,EAAAA,IAAuC,UAAnC,OAAGG,EAAAA,EAAAA,IAAEC,EAAAoD,MAAMnD,UAAU,YAAS,IAClCL,EAAAA,EAAAA,IAA4F,qBAAxFA,EAAAA,EAAAA,IAAmF,SAtC/F,sBAAAU,EAAA,KAAAA,EAAA,GAAAC,GAsCiCM,EAAA+I,wBAAuBrJ,GAAEF,KAAK,OAAOiR,QAAQ,gB,iBAA7CzQ,EAAA+I,6BAAuB,GAA7ByH,MAAR,WAEbzR,EAAAA,EAAAA,IAGK,YAFHA,EAAAA,EAAAA,IAAoF,YAAhFA,EAAAA,EAAAA,IAA2E,OAA3EQ,GAA2EL,EAAAA,EAAAA,IAA9BC,EAAAoD,MAAMoB,UAAU,UAAO,MACxE5E,EAAAA,EAAAA,IAAmF,qBAA/EA,EAAAA,EAAAA,IAA0E,SA1CtF,sBAAAU,EAAA,KAAAA,EAAA,GAAAC,GA0CiCM,EAAAyL,eAAc/L,GAAEF,KAAK,OAAOiR,QAAQ,gB,iBAApCzQ,EAAAyL,oBAAc,GAApB+E,MAAR,WAEbzR,EAAAA,EAAAA,IASK,0BARHA,EAAAA,EAAAA,IAAuB,UAAnB,kBAAc,KAClBA,EAAAA,EAAAA,IAMK,0BALHF,EAAAA,EAAAA,IAIMC,EAAAA,GAAA,MAnDhBwB,EAAAA,EAAAA,IA+CqCnB,EAAAoD,MAAMW,WA/C3C1C,IA+CgC,IAAAC,GAAAC,EAAAA,EAAAA,GAAAF,EAAA,GAATG,EAACF,EAAA,GAAEmC,EAAMnC,EAAA,G,kBAAtB5B,EAAAA,EAAAA,IAIM,OAJuCD,IAAK+B,GAAC,EA/C7D1B,EAAAA,EAAAA,KAAAC,EAAAA,EAAAA,IAgDc0D,EAAO7B,MAAM,IACf,IAAAhC,EAAAA,EAAAA,IAA6G,eAAtGA,EAAAA,EAAAA,IAA4F,SAArFS,KAAK,QAASgF,QAAS5B,EAAO6B,YAAciM,EAAAvL,MAAQnE,SAAMtB,GAAEM,EAAA0E,mBAAmB/D,I,QAjDzGR,GAAA,eAAAlB,EAAAA,EAAAA,IAiD+G,UACnGF,EAAAA,EAAAA,IAAqI,eAA9HA,EAAAA,EAAAA,IAAkH,SAA3GS,KAAK,WAAYgF,QAAS5B,EAAOgC,eAAenD,IAAIiP,EAAAvL,OAASnE,SAAMtB,GAAEM,EAAA6E,wBAAwBnF,EAAQiB,I,QAlD/HU,GAAA,eAAApC,EAAAA,EAAAA,IAkDqI,YAAI,I,WAInIF,EAAAA,EAAAA,IAMK,0BALHA,EAAAA,EAAAA,IAAkB,UAAd,aAAS,KACbA,EAAAA,EAAAA,IAGK,qBAFHA,EAAAA,EAAAA,IAA8D,SAzDxE,sBAAAU,EAAA,KAAAA,EAAA,GAAAC,GAyDsCM,EAAAiC,SAAQvC,GAAEF,KAAK,SAAS2C,IAAI,K,iBAA5BnC,EAAAiC,cAAQ,GAArBuO,MAAR,EAAa5Q,QAAb,M,eAzDjBX,EAAAA,EAAAA,IAyDwE,UAC9D,SAAAF,EAAAA,EAAAA,IAAsE,SA1DhF,sBAAAU,EAAA,KAAAA,EAAA,GAAAC,GA0DsCM,EAAAqC,iBAAgB3C,GAAEF,KAAK,SAAS2C,IAAI,K,iBAApCnC,EAAAqC,sBAAgB,GAA7BmO,MAAR,EAAa5Q,QAAb,M,eA1DjBX,EAAAA,EAAAA,IA0DgF,aAG1EF,EAAAA,EAAAA,IAGK,YAFHA,EAAAA,EAAAA,IAAmD,0BA9D3DE,EAAAA,EAAAA,IA8DY,gBAAW,eAAAF,EAAAA,EAAAA,IAAK,qBA9D5BE,EAAAA,EAAAA,IA8D4B,KAACC,EAAAA,EAAAA,IAAEC,EAAAoD,MAAMnD,UAAU,UAAO,MAC9CL,EAAAA,EAAAA,IAAyE,qBAArEA,EAAAA,EAAAA,IAAgE,SA/D5E,sBAAAU,EAAA,MAAAA,EAAA,IAAAC,GA+DwCM,EAAAwC,WAAU9C,GAAEF,KAAK,SAAS2C,IAAI,K,iBAA9BnC,EAAAwC,gBAAU,GAAvBgO,MAAR,EAAa5Q,QAAb,WAEbb,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAsB,UAAlB,iBAAa,KACjBA,EAAAA,EAAAA,IAAuE,qBAAnEA,EAAAA,EAAAA,IAA8D,SAnE1E,sBAAAU,EAAA,MAAAA,EAAA,IAAAC,GAmEwCM,EAAAwI,SAAQ9I,GAAEF,KAAK,SAAS2C,IAAI,K,iBAA5BnC,EAAAwI,cAAQ,GAArBgI,MAAR,EAAa5Q,QAAb,WAEbb,EAAAA,EAAAA,IAGK,YAFHA,EAAAA,EAAAA,IAA4C,0BAtEpDE,EAAAA,EAAAA,IAsEY,SAAI,eAAAF,EAAAA,EAAAA,IAAK,qBAtErBE,EAAAA,EAAAA,IAsEqB,KAACC,EAAAA,EAAAA,IAAEC,EAAAoD,MAAMnD,UAAU,UAAO,MACvCL,EAAAA,EAAAA,IAAyE,qBAArEA,EAAAA,EAAAA,IAAgE,SAvE5E,sBAAAU,EAAA,MAAAA,EAAA,IAAAC,GAuEwCM,EAAA4I,WAAUlJ,GAAEF,KAAK,SAAS2C,IAAI,K,iBAA9BnC,EAAA4I,gBAAU,GAAvB4H,MAAR,EAAa5Q,QAAb,WAEbb,EAAAA,EAAAA,IAGK,YAFHA,EAAAA,EAAAA,IAAmC,WAAAG,EAAAA,EAAAA,IAA7BC,EAAAoD,MAAMoB,UAAU,WAAQ,IAC9B5E,EAAAA,EAAAA,IAAsF,qBAAlFA,EAAAA,EAAAA,IAA6E,SA3EzF,sBAAAU,EAAA,MAAAA,EAAA,IAAAC,GA2EwCM,EAAA0I,wBAAuBhJ,GAAEF,KAAK,SAAS2C,IAAI,K,iBAA3CnC,EAAA0I,6BAAuB,GAApC8H,MAAR,EAAa5Q,QAAb,WAEbb,EAAAA,EAAAA,IAGK,YAFHA,EAAAA,EAAAA,IAAmC,WAAAG,EAAAA,EAAAA,IAA7BC,EAAAoD,MAAMnD,UAAU,WAAQ,IAC9BL,EAAAA,EAAAA,IAAsF,qBAAlFA,EAAAA,EAAAA,IAA6E,SA/EzF,sBAAAU,EAAA,MAAAA,EAAA,IAAAC,GA+EwCM,EAAA2I,wBAAuBjJ,GAAEF,KAAK,SAAS2C,IAAI,K,iBAA3CnC,EAAA2I,6BAAuB,GAApC6H,MAAR,EAAa5Q,QAAb,WAEbb,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAqB,UAAjB,gBAAY,KAChBA,EAAAA,EAAAA,IAAsF,qBAAlFA,EAAAA,EAAAA,IAA6E,SAnFzF,sBAAAU,EAAA,MAAAA,EAAA,IAAAC,GAmFwCM,EAAAqI,wBAAuB3I,GAAEF,KAAK,SAAS2C,IAAI,K,iBAA3CnC,EAAAqI,6BAAuB,GAApCmI,MAAR,EAAa5Q,QAAb,aAGfb,EAAAA,EAAAA,IAAmE,UAA3DS,KAAK,SAAUO,QAAKN,EAAA,MAAAA,EAAA,IAAAC,GAAEP,EAAAwR,MAAM,mBAAkB,SACtD5R,EAAAA,EAAAA,IAA+D,UAAvDS,KAAK,SAAUO,QAAKN,EAAA,MAAAA,EAAA,IAAAC,GAAEM,EAAA4Q,uBAAsB,WAvFxDC,EAAA,G,sCAqHMC,GAAkB,IAAIC,KAAKC,aAEjC,SAASC,GAAsBC,GAC7B,OAAOhP,SAASgP,EAAIC,QAAQ,KAAM,IACpC,CAEA,QACEC,MAAO,CAAC,WAAY,SACpBC,KAAMA,KAAA,CACJjB,MAAM,IAERkB,MAAO,CACL,iBAEFC,SAAU,CACRxQ,KAAM,CACJU,GAAAA,GAAS,OAAOuF,KAAKpG,SAASG,IAAK,EACnCiM,GAAAA,CAAK7L,GAAO6F,KAAKyG,OAAO+D,OAAO,qBAAsB,CAAE7Q,EAAGqG,KAAK7B,MAAOjE,KAAM,OAAQC,OAAO,GAE7F+H,eAAgB,CACdzH,GAAAA,GAAS,OAAOuF,KAAKpG,SAASsI,cAAe,EAC7C8D,GAAAA,CAAK7L,GAAO6F,KAAKyG,OAAO+D,OAAO,qBAAsB,CAAE7Q,EAAGqG,KAAK7B,MAAOjE,KAAM,iBAAkBC,OAAO,GAEvGoG,cAAe,CACb9F,GAAAA,GAAS,OAAOuF,KAAKpG,SAAS2G,aAAc,EAC5CyF,GAAAA,CAAK7L,GAAO6F,KAAKyG,OAAO+D,OAAO,qBAAsB,CAAE7Q,EAAGqG,KAAK7B,MAAOjE,KAAM,gBAAiBC,OAAO,GAEtGkI,OAAQ,CACN5H,GAAAA,GAAS,OAAOqP,GAAgBW,OAAOzK,KAAKpG,SAASyI,OAAQ,EAC7D2D,GAAAA,CAAK7L,GAAO6F,KAAKyG,OAAO+D,OAAO,qBAAsB,CAAE7Q,EAAGqG,KAAK7B,MAAOjE,KAAM,SAAUC,IAAK8P,GAAqB9P,IAAQ,GAE1HmG,IAAK,CACH7F,GAAAA,GAAS,OAAOqP,GAAgBW,OAAOzK,KAAKpG,SAAS0G,IAAK,EAC1D0F,GAAAA,CAAK7L,GAAO6F,KAAKyG,OAAO+D,OAAO,qBAAsB,CAAE7Q,EAAGqG,KAAK7B,MAAOjE,KAAM,MAAOC,IAAK8P,GAAqB9P,IAAQ,GAEvH6H,wBAAyB,CACvBvH,GAAAA,GAAS,OAAOqP,GAAgBW,OAAOzK,KAAKpG,SAASoI,wBAAyB,EAC9EgE,GAAAA,CAAK7L,GAAO6F,KAAKyG,OAAO+D,OAAO,qBAAsB,CAAE7Q,EAAGqG,KAAK7B,MAAOjE,KAAM,0BAA2BC,IAAK8P,GAAqB9P,IAAQ,GAE3I4H,wBAAyB,CACvBtH,GAAAA,GAAS,OAAOqP,GAAgBW,OAAOzK,KAAKpG,SAASmI,wBAAyB,EAC9EiE,GAAAA,CAAK7L,GAAO6F,KAAKyG,OAAO+D,OAAO,qBAAsB,CAAE7Q,EAAGqG,KAAK7B,MAAOjE,KAAM,0BAA2BC,IAAK8P,GAAqB9P,IAAQ,GAE3IsK,eAAgB,CACdhK,GAAAA,GAAS,OAAOqP,GAAgBW,OAAOzK,KAAKpG,SAAS6K,eAAgB,EACrEuB,GAAAA,CAAK7L,GAAO6F,KAAKyG,OAAO+D,OAAO,qBAAsB,CAAE7Q,EAAGqG,KAAK7B,MAAOjE,KAAM,iBAAkBC,IAAK8P,GAAqB9P,IAAQ,GAElIc,SAAU,CACRR,GAAAA,GAAS,OAAOqP,GAAgBW,OAAOzK,KAAKpG,SAASqB,SAAU,EAC/D+K,GAAAA,CAAK7L,GAAO6F,KAAKyG,OAAO+D,OAAO,qBAAsB,CAAE7Q,EAAGqG,KAAK7B,MAAOjE,KAAM,WAAYC,OAAO,GAEjGqB,WAAY,CACVf,GAAAA,GAAS,OAAOqP,GAAgBW,OAAOzK,KAAKpG,SAAS4B,WAAY,EACjEwK,GAAAA,CAAK7L,GAAO6F,KAAKyG,OAAO+D,OAAO,qBAAsB,CAAE7Q,EAAGqG,KAAK7B,MAAOjE,KAAM,aAAcC,OAAO,GAEnGkB,iBAAkB,CAChBZ,GAAAA,GAAS,OAAOqP,GAAgBW,OAAOzK,KAAKpG,SAASyB,iBAAkB,EACvE2K,GAAAA,CAAK7L,GAAO6F,KAAKyG,OAAO+D,OAAO,qBAAsB,CAAE7Q,EAAGqG,KAAK7B,MAAOjE,KAAM,mBAAoBC,OAAO,GAEzGqH,SAAU,CACR/G,GAAAA,GAAS,OAAOqP,GAAgBW,OAAOzK,KAAKpG,SAAS4H,SAAU,EAC/DwE,GAAAA,CAAK7L,GAAO6F,KAAKyG,OAAO+D,OAAO,qBAAsB,CAAE7Q,EAAGqG,KAAK7B,MAAOjE,KAAM,WAAYC,OAAO,GAEjGyH,WAAY,CACVnH,GAAAA,GAAS,OAAOqP,GAAgBW,OAAOzK,KAAKpG,SAASgI,WAAY,EACjEoE,GAAAA,CAAK7L,GAAO6F,KAAKyG,OAAO+D,OAAO,qBAAsB,CAAE7Q,EAAGqG,KAAK7B,MAAOjE,KAAM,aAAcC,OAAO,GAEnGuH,wBAAyB,CACvBjH,GAAAA,GAAS,OAAOqP,GAAgBW,OAAOzK,KAAKpG,SAAS8H,wBAAyB,EAC9EsE,GAAAA,CAAK7L,GAAO6F,KAAKyG,OAAO+D,OAAO,qBAAsB,CAAE7Q,EAAGqG,KAAK7B,MAAOjE,KAAM,0BAA2BC,OAAO,GAEhHwH,wBAAyB,CACvBlH,GAAAA,GAAS,OAAOqP,GAAgBW,OAAOzK,KAAKpG,SAAS+H,wBAAyB,EAC9EqE,GAAAA,CAAK7L,GAAO6F,KAAKyG,OAAO+D,OAAO,qBAAsB,CAAE7Q,EAAGqG,KAAK7B,MAAOjE,KAAM,0BAA2BC,OAAO,GAEhHkH,wBAAyB,CACvB5G,GAAAA,GAAS,OAAOqP,GAAgBW,OAAOzK,KAAKpG,SAASyH,wBAAyB,EAC9E2E,GAAAA,CAAK7L,GAAO6F,KAAKyG,OAAO+D,OAAO,qBAAsB,CAAE7Q,EAAGqG,KAAK7B,MAAOjE,KAAM,0BAA2BC,OAAO,IAGlHuQ,QAAS,CACPd,kBAAAA,GACE5J,KAAK2K,KAAKC,KAAK,gBACjB,EACAlN,kBAAAA,CAAoBuK,GAClBjI,KAAKyG,OAAO+D,OAAO,qBAAsB,CAAEvC,WAAU3K,WAAY0C,KAAK7B,OACxE,EACAN,uBAAAA,CAAyBgN,EAAO5C,GAC9BjI,KAAKyG,OAAO+D,OAAO,0BAA2B,CAAEvC,WAAU3K,WAAY0C,KAAK7B,MAAOP,eAAgBiN,EAAMzQ,OAAOoD,SACjH,I,WCvMJ,MAAMsN,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,U,ICNOnT,MAAM,iB,IACJA,MAAM,oB,IAGDoT,QAAQ,K,IAiERpT,MAAM,c,IAiCNA,MAAM,c,IAGNoT,QAAQ,IAAIpT,MAAM,Q,IAoBvBA,MAAM,oB,IAGDoT,QAAQ,K,IAiERpT,MAAM,c,IAiCNA,MAAM,c,IAGNoT,QAAQ,IAAIpT,MAAM,Q,IAoBvBA,MAAM,c,IAGNA,MAAM,U,6EA9PfqG,EAAAA,EAAAA,IAmQkBkL,EAAA,CAnQDnP,KAAK,iBADtBoP,WACgDhR,EAAAiR,KADhD,sBAAA3Q,EAAA,KAAAA,EAAA,GAAAC,GACgDP,EAAAiR,KAAI1Q,GACjD,gBAAc,EAAM2Q,QAAQ,kBAAkB,gBAAc,qC,CAF/DC,SAAAC,EAAAA,EAAAA,KAGE,IAgQM,EAhQNxR,EAAAA,EAAAA,IAgQM,MAhQNC,GAgQM,EA/PJD,EAAAA,EAAAA,IA2HM,MA3HNO,GA2HM,EA1HJP,EAAAA,EAAAA,IAyHQ,eAxHNA,EAAAA,EAAAA,IAEK,YADHA,EAAAA,EAAAA,IAAyC,KAAzCQ,IAAyCL,EAAAA,EAAAA,IAAvBC,EAAAoD,MAAMoB,UAAU,KAAE,oBAEtC5E,EAAAA,EAAAA,IAEK,YADHA,EAAAA,EAAAA,IAAyB,MAArBgT,QAAQ,KAAI,UAAI,KAEtBhT,EAAAA,EAAAA,IAGK,wBAFHA,EAAAA,EAAAA,IAAY,UAAR,OAAG,KACPA,EAAAA,EAAAA,IAAuD,WAAAG,EAAAA,EAAAA,IAAjDc,EAAA0B,aAAagP,EAAA7F,UAAUS,YAAYjC,SAAM,MAEjDtK,EAAAA,EAAAA,IAGK,wBAFHA,EAAAA,EAAAA,IAAuB,UAAnB,kBAAc,KAClBA,EAAAA,EAAAA,IAAoD,WAAAG,EAAAA,EAAAA,IAA9Cc,EAAA0B,aAAagP,EAAA7F,UAAUS,YAAYhE,MAAG,MAE9CvI,EAAAA,EAAAA,IAGK,wBAFHA,EAAAA,EAAAA,IAAiB,UAAb,YAAQ,KACZA,EAAAA,EAAAA,IAAgE,WAAAG,EAAAA,EAAAA,IAA1Dc,EAAA0B,aAAagP,EAAA7F,UAAUS,YAAYxC,kBAAe,MAE1D/J,EAAAA,EAAAA,IAGK,wBAFHA,EAAAA,EAAAA,IAAgB,UAAZ,WAAO,KACXA,EAAAA,EAAAA,IAA+D,WAAAG,EAAAA,EAAAA,IAAzDc,EAAA0B,aAAagP,EAAA7F,UAAUS,YAAYrF,iBAAc,MAEzDlH,EAAAA,EAAAA,IAGK,wBAFHA,EAAAA,EAAAA,IAAkB,UAAd,aAAS,KACbA,EAAAA,EAAAA,IAAiE,WAAAG,EAAAA,EAAAA,IAA3Dc,EAAA0B,aAAagP,EAAA7F,UAAUS,YAAYpF,mBAAgB,MAE3DnH,EAAAA,EAAAA,IAGK,wBAFHA,EAAAA,EAAAA,IAA2B,UAAvB,sBAAkB,KACtBA,EAAAA,EAAAA,IAAgE,WAAAG,EAAAA,EAAAA,IAA1Dc,EAAA0B,aAAagP,EAAA7F,UAAUS,YAAYjF,kBAAe,MAE1DtH,EAAAA,EAAAA,IAGK,wBAFHA,EAAAA,EAAAA,IAAoB,UAAhB,eAAW,KACfA,EAAAA,EAAAA,IAA8E,WAAAG,EAAAA,EAAAA,IAAxEc,EAAA0B,aAAagP,EAAA7F,UAAUS,YAAY7E,iBAAiBzG,EAAA0B,eAAY,MAExE3C,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAgB,UAAZ,WAAO,KACXA,EAAAA,EAAAA,IAA+D,WAAAG,EAAAA,EAAAA,IAAzDc,EAAA0B,aAAagP,EAAA7F,UAAUS,YAAY3E,iBAAc,MAEzD5H,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAgB,UAAZ,WAAO,KACXA,EAAAA,EAAAA,IAAsE,WAAAG,EAAAA,EAAAA,IAAhEc,EAAA0B,aAAagP,EAAA7F,UAAUS,YAAYzE,wBAAqB,MAEhE9H,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAmB,UAAf,cAAU,KACdA,EAAAA,EAAAA,IAA2E,WAAAG,EAAAA,EAAAA,IAArEc,EAAA0B,aAAagP,EAAA7F,UAAUS,YAAY5E,6BAA0B,MAErE3H,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAkB,UAAd,aAAS,KACbA,EAAAA,EAAAA,IAA4E,WAAAG,EAAAA,EAAAA,IAAtEc,EAAA0B,aAAagP,EAAA7F,UAAUS,YAAYxE,8BAA2B,MAEtE/H,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAc,UAAV,SAAK,KACTA,EAAAA,EAAAA,IAA8D,WAAAG,EAAAA,EAAAA,IAAxDc,EAAA0B,aAAagP,EAAA7F,UAAUS,YAAYlC,gBAAa,oBAExDrK,EAAAA,EAAAA,IAEK,YADHA,EAAAA,EAAAA,IAA6B,MAAzBgT,QAAQ,KAAI,cAAQ,mBAE1BlT,EAAAA,EAAAA,IAGKC,EAAAA,GAAA,MAlEbwB,EAAAA,EAAAA,IA+DkCoQ,EAAA7F,UAAUS,YAAY5B,yBA/DxD,CA+DoBW,EAAIlF,M,WAAhBtG,EAAAA,EAAAA,IAGK,MAHqED,IAAKuG,GAAK,EAClFpG,EAAAA,EAAAA,IAA8H,WAAAG,EAAAA,EAAAA,IAAxHc,EAAAgS,qBAAqB7M,EAAMuL,EAAA7F,UAAUS,YAAY5B,yBAAyB1J,EAAA0B,aAAa2I,EAAIL,OAAO,KAAC9K,EAAAA,EAAAA,IAAEmL,EAAIF,KAAI,SACnHpL,EAAAA,EAAAA,IAAkC,WAAAG,EAAAA,EAAAA,IAA5Bc,EAAA0B,aAAa2I,EAAIA,MAAG,Q,qBAE5BxL,EAAAA,EAAAA,IAEKC,EAAAA,GAAA,MArEbwB,EAAAA,EAAAA,IAmEwBN,EAAAiS,+BAALtR,K,WAAX9B,EAAAA,EAAAA,IAEK,MAF2CD,IAAK+B,GAAClB,EAAA,MAAAA,EAAA,MACpDV,EAAAA,EAAAA,IAA2B,MAAvBgT,QAAQ,KAAI,KAAM,S,OAExBhT,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAuC,MAAnCJ,MAAM,cAAa,eAAW,KAClCI,EAAAA,EAAAA,IAAkF,KAAlFoB,IAAkFjB,EAAAA,EAAAA,IAAzDc,EAAA0B,aAAagP,EAAA7F,UAAUS,YAAY7B,iBAAc,oBAE5E1K,EAAAA,EAAAA,IAEK,YADHA,EAAAA,EAAAA,IAAsC,MAAlCgT,QAAQ,IAAIpT,MAAM,QAAO,UAAI,KAEnCI,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAY,UAAR,OAAG,KACPA,EAAAA,EAAAA,IAAuD,WAAAG,EAAAA,EAAAA,IAAjDc,EAAA0B,aAAagP,EAAA7F,UAAUS,YAAYjC,SAAM,MAEjDtK,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAuB,UAAnB,kBAAc,KAClBA,EAAAA,EAAAA,IAAoD,WAAAG,EAAAA,EAAAA,IAA9Cc,EAAA0B,aAAagP,EAAA7F,UAAUS,YAAYhE,MAAG,MAE9CvI,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAiB,UAAb,YAAQ,KACZA,EAAAA,EAAAA,IAAgE,WAAAG,EAAAA,EAAAA,IAA1Dc,EAAA0B,aAAagP,EAAA7F,UAAUS,YAAYxC,kBAAe,MAE1D/J,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAc,UAAV,SAAK,KACTA,EAAAA,EAAAA,IAAqE,WAAAG,EAAAA,EAAAA,IAA/Dc,EAAA0B,aAAagP,EAAA7F,UAAUS,YAAYhC,uBAAoB,oBAE/DvK,EAAAA,EAAAA,IAEK,YADHA,EAAAA,EAAAA,IAA6B,MAAzBgT,QAAQ,KAAI,cAAQ,mBAE1BlT,EAAAA,EAAAA,IAGKC,EAAAA,GAAA,MAnGbwB,EAAAA,EAAAA,IAgGkCoQ,EAAA7F,UAAUS,YAAYX,qBAhGxD,CAgGoBN,EAAIlF,M,WAAhBtG,EAAAA,EAAAA,IAGK,MAHiED,IAAKuG,GAAK,EAC9EpG,EAAAA,EAAAA,IAA0H,WAAAG,EAAAA,EAAAA,IAApHc,EAAAgS,qBAAqB7M,EAAMuL,EAAA7F,UAAUS,YAAYX,qBAAqB3K,EAAA0B,aAAa2I,EAAIL,OAAO,KAAC9K,EAAAA,EAAAA,IAAEmL,EAAIF,KAAI,SAC/GpL,EAAAA,EAAAA,IAAkC,WAAAG,EAAAA,EAAAA,IAA5Bc,EAAA0B,aAAa2I,EAAIA,MAAG,Q,qBAE5BxL,EAAAA,EAAAA,IAEKC,EAAAA,GAAA,MAtGbwB,EAAAA,EAAAA,IAoGwBN,EAAAkS,2BAALvR,K,WAAX9B,EAAAA,EAAAA,IAEK,MAFuCD,IAAK+B,GAAClB,EAAA,MAAAA,EAAA,MAChDV,EAAAA,EAAAA,IAA2B,MAAvBgT,QAAQ,KAAI,KAAM,S,OAExBhT,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAuC,MAAnCJ,MAAM,cAAa,eAAW,KAClCI,EAAAA,EAAAA,IAA8E,KAA9EsC,IAA8EnC,EAAAA,EAAAA,IAArDc,EAAA0B,aAAagP,EAAA7F,UAAUS,YAAYZ,aAAU,MAExE3L,EAAAA,EAAAA,IAEK,YADHA,EAAAA,EAAAA,IAA0D,KAA1D6C,IAA0D1C,EAAAA,EAAAA,IAA3BC,EAAAoD,MAAMoB,UAAU,SAAM,MAEvD5E,EAAAA,EAAAA,IAGK,YAFHA,EAAAA,EAAAA,IAAgF,UAA5E,SAAKG,EAAAA,EAAAA,IAA4B,kBAA1BwR,EAAA7F,UAAUS,YAAYnB,KAAI,mBACrCpL,EAAAA,EAAAA,IAAoD,WAAAG,EAAAA,EAAAA,IAA9Cc,EAAA0B,aAAagP,EAAA7F,UAAUS,YAAYjB,MAAG,MAE9CtL,EAAAA,EAAAA,IAGK,YAFHA,EAAAA,EAAAA,IAAoC,UAAhC,MAAEG,EAAAA,EAAAA,IAAEC,EAAAoD,MAAMoB,UAAU,UAAO,IAC/B5E,EAAAA,EAAAA,IAA2D,WAAAG,EAAAA,EAAAA,IAArDc,EAAA0B,aAAagP,EAAA7F,UAAUa,yBAAsB,MAErD3M,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAe,UAAX,UAAM,KACVA,EAAAA,EAAAA,IAA2C,WAAAG,EAAAA,EAAAA,IAArCc,EAAA0B,aAAagP,EAAA7F,UAAUI,SAAM,MAErClM,EAAAA,EAAAA,IAGK,YAFHA,EAAAA,EAAAA,IAAiC,WAAAG,EAAAA,EAAAA,IAA3BC,EAAAoD,MAAMoB,UAAU,SAAM,IAC5B5E,EAAAA,EAAAA,IAAqD,WAAAG,EAAAA,EAAAA,IAA/Cc,EAAA0B,aAAagP,EAAA7F,UAAUW,mBAAgB,UAInDzM,EAAAA,EAAAA,IA2HM,MA3HN+C,GA2HM,EA1HJ/C,EAAAA,EAAAA,IAyHQ,eAxHNA,EAAAA,EAAAA,IAEK,YADHA,EAAAA,EAAAA,IAAyC,KAAzCiD,IAAyC9C,EAAAA,EAAAA,IAAvBC,EAAAoD,MAAMnD,UAAU,KAAE,oBAEtCL,EAAAA,EAAAA,IAEK,YADHA,EAAAA,EAAAA,IAAyB,MAArBgT,QAAQ,KAAI,UAAI,KAEtBhT,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAY,UAAR,OAAG,KACPA,EAAAA,EAAAA,IAAkE,WAAAG,EAAAA,EAAAA,IAA5Dc,EAAA0B,aAAagP,EAAA7F,UAAUU,uBAAuBlC,SAAM,MAE5DtK,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAuB,UAAnB,kBAAc,KAClBA,EAAAA,EAAAA,IAA+D,WAAAG,EAAAA,EAAAA,IAAzDc,EAAA0B,aAAagP,EAAA7F,UAAUU,uBAAuBjE,MAAG,MAEzDvI,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAiB,UAAb,YAAQ,KACZA,EAAAA,EAAAA,IAA2E,WAAAG,EAAAA,EAAAA,IAArEc,EAAA0B,aAAagP,EAAA7F,UAAUU,uBAAuBzC,kBAAe,MAErE/J,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAgB,UAAZ,WAAO,KACXA,EAAAA,EAAAA,IAA0E,WAAAG,EAAAA,EAAAA,IAApEc,EAAA0B,aAAagP,EAAA7F,UAAUU,uBAAuBtF,iBAAc,MAEpElH,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAkB,UAAd,aAAS,KACbA,EAAAA,EAAAA,IAA4E,WAAAG,EAAAA,EAAAA,IAAtEc,EAAA0B,aAAagP,EAAA7F,UAAUU,uBAAuBrF,mBAAgB,MAEtEnH,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAA2B,UAAvB,sBAAkB,KACtBA,EAAAA,EAAAA,IAA2E,WAAAG,EAAAA,EAAAA,IAArEc,EAAA0B,aAAagP,EAAA7F,UAAUU,uBAAuBlF,kBAAe,MAErEtH,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAoB,UAAhB,eAAW,KACfA,EAAAA,EAAAA,IAAyF,WAAAG,EAAAA,EAAAA,IAAnFc,EAAA0B,aAAagP,EAAA7F,UAAUU,uBAAuB9E,iBAAiBzG,EAAA0B,eAAY,MAEnF3C,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAgB,UAAZ,WAAO,KACXA,EAAAA,EAAAA,IAA0E,WAAAG,EAAAA,EAAAA,IAApEc,EAAA0B,aAAagP,EAAA7F,UAAUU,uBAAuB5E,iBAAc,MAEpE5H,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAgB,UAAZ,WAAO,KACXA,EAAAA,EAAAA,IAAiF,WAAAG,EAAAA,EAAAA,IAA3Ec,EAAA0B,aAAagP,EAAA7F,UAAUU,uBAAuB1E,wBAAqB,MAE3E9H,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAmB,UAAf,cAAU,KACdA,EAAAA,EAAAA,IAAsF,WAAAG,EAAAA,EAAAA,IAAhFc,EAAA0B,aAAagP,EAAA7F,UAAUU,uBAAuB7E,6BAA0B,MAEhF3H,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAkB,UAAd,aAAS,KACbA,EAAAA,EAAAA,IAAuF,WAAAG,EAAAA,EAAAA,IAAjFc,EAAA0B,aAAagP,EAAA7F,UAAUU,uBAAuBzE,8BAA2B,MAEjF/H,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAc,UAAV,SAAK,KACTA,EAAAA,EAAAA,IAAyE,WAAAG,EAAAA,EAAAA,IAAnEc,EAAA0B,aAAagP,EAAA7F,UAAUU,uBAAuBnC,gBAAa,oBAEnErK,EAAAA,EAAAA,IAEK,YADHA,EAAAA,EAAAA,IAA6B,MAAzBgT,QAAQ,KAAI,cAAQ,mBAE1BlT,EAAAA,EAAAA,IAGKC,EAAAA,GAAA,MA9LbwB,EAAAA,EAAAA,IA2LkCoQ,EAAA7F,UAAUU,uBAAuB7B,yBA3LnE,CA2LoBW,EAAIlF,M,WAAhBtG,EAAAA,EAAAA,IAGK,MAHgFD,IAAKuG,GAAK,EAC7FpG,EAAAA,EAAAA,IAAyI,WAAAG,EAAAA,EAAAA,IAAnIc,EAAAgS,qBAAqB7M,EAAMuL,EAAA7F,UAAUU,uBAAuB7B,yBAAyB1J,EAAA0B,aAAa2I,EAAIL,OAAO,KAAC9K,EAAAA,EAAAA,IAAEmL,EAAIF,KAAI,SAC9HpL,EAAAA,EAAAA,IAAkC,WAAAG,EAAAA,EAAAA,IAA5Bc,EAAA0B,aAAa2I,EAAIA,MAAG,Q,qBAE5BxL,EAAAA,EAAAA,IAEKC,EAAAA,GAAA,MAjMbwB,EAAAA,EAAAA,IA+LwBN,EAAAmS,+BAALxR,K,WAAX9B,EAAAA,EAAAA,IAEK,MAF2CD,IAAK+B,GAAClB,EAAA,MAAAA,EAAA,MACpDV,EAAAA,EAAAA,IAA2B,MAAvBgT,QAAQ,KAAI,KAAM,S,OAExBhT,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAuC,MAAnCJ,MAAM,cAAa,eAAW,KAClCI,EAAAA,EAAAA,IAA6F,KAA7FqD,IAA6FlD,EAAAA,EAAAA,IAApEc,EAAA0B,aAAagP,EAAA7F,UAAUU,uBAAuB9B,iBAAc,oBAEvF1K,EAAAA,EAAAA,IAEK,YADHA,EAAAA,EAAAA,IAAsC,MAAlCgT,QAAQ,IAAIpT,MAAM,QAAO,UAAI,KAEnCI,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAY,UAAR,OAAG,KACPA,EAAAA,EAAAA,IAAkE,WAAAG,EAAAA,EAAAA,IAA5Dc,EAAA0B,aAAagP,EAAA7F,UAAUU,uBAAuBlC,SAAM,MAE5DtK,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAuB,UAAnB,kBAAc,KAClBA,EAAAA,EAAAA,IAA+D,WAAAG,EAAAA,EAAAA,IAAzDc,EAAA0B,aAAagP,EAAA7F,UAAUU,uBAAuBjE,MAAG,MAEzDvI,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAiB,UAAb,YAAQ,KACZA,EAAAA,EAAAA,IAA2E,WAAAG,EAAAA,EAAAA,IAArEc,EAAA0B,aAAagP,EAAA7F,UAAUU,uBAAuBzC,kBAAe,MAErE/J,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAc,UAAV,SAAK,KACTA,EAAAA,EAAAA,IAAgF,WAAAG,EAAAA,EAAAA,IAA1Ec,EAAA0B,aAAagP,EAAA7F,UAAUU,uBAAuBjC,uBAAoB,oBAE1EvK,EAAAA,EAAAA,IAEK,YADHA,EAAAA,EAAAA,IAA6B,MAAzBgT,QAAQ,KAAI,cAAQ,mBAE1BlT,EAAAA,EAAAA,IAGKC,EAAAA,GAAA,MA/NbwB,EAAAA,EAAAA,IA4NkCoQ,EAAA7F,UAAUU,uBAAuBZ,qBA5NnE,CA4NoBN,EAAIlF,M,WAAhBtG,EAAAA,EAAAA,IAGK,MAH4ED,IAAKuG,GAAK,EACzFpG,EAAAA,EAAAA,IAAqI,WAAAG,EAAAA,EAAAA,IAA/Hc,EAAAgS,qBAAqB7M,EAAMuL,EAAA7F,UAAUU,uBAAuBZ,qBAAqB3K,EAAA0B,aAAa2I,EAAIL,OAAO,KAAC9K,EAAAA,EAAAA,IAAEmL,EAAIF,KAAI,SAC1HpL,EAAAA,EAAAA,IAAkC,WAAAG,EAAAA,EAAAA,IAA5Bc,EAAA0B,aAAa2I,EAAIA,MAAG,Q,qBAE5BxL,EAAAA,EAAAA,IAEKC,EAAAA,GAAA,MAlObwB,EAAAA,EAAAA,IAgOwBN,EAAAoS,2BAALzR,K,WAAX9B,EAAAA,EAAAA,IAEK,MAFuCD,IAAK+B,GAAClB,EAAA,MAAAA,EAAA,MAChDV,EAAAA,EAAAA,IAA2B,MAAvBgT,QAAQ,KAAI,KAAM,S,OAExBhT,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAuC,MAAnCJ,MAAM,cAAa,eAAW,KAClCI,EAAAA,EAAAA,IAAyF,KAAzFuD,IAAyFpD,EAAAA,EAAAA,IAAhEc,EAAA0B,aAAagP,EAAA7F,UAAUU,uBAAuBb,aAAU,MAEnF3L,EAAAA,EAAAA,IAEK,YADHA,EAAAA,EAAAA,IAAyD,KAAzD0D,IAAyDvD,EAAAA,EAAAA,IAA1BC,EAAAoD,MAAMoB,UAAU,QAAK,MAEtD5E,EAAAA,EAAAA,IAGK,YAFHA,EAAAA,EAAAA,IAA2F,UAAvF,SAAKG,EAAAA,EAAAA,IAAuC,kBAArCwR,EAAA7F,UAAUU,uBAAuBpB,KAAI,mBAChDpL,EAAAA,EAAAA,IAA+D,WAAAG,EAAAA,EAAAA,IAAzDc,EAAA0B,aAAagP,EAAA7F,UAAUU,uBAAuBlB,MAAG,oBAEzDtL,EAAAA,EAAAA,IAGK,YAFHA,EAAAA,EAAAA,IAAe,UAAX,MACJA,EAAAA,EAAAA,IAAe,UAAX,OAAM,mBAEZA,EAAAA,EAAAA,IAGK,YAFHA,EAAAA,EAAAA,IAAe,UAAX,MACJA,EAAAA,EAAAA,IAAe,UAAX,OAAM,KAEZA,EAAAA,EAAAA,IAGK,YAFHA,EAAAA,EAAAA,IAAgC,WAAAG,EAAAA,EAAAA,IAA1BC,EAAAoD,MAAMnD,UAAU,QAAK,IAC3BL,EAAAA,EAAAA,IAA+D,WAAAG,EAAAA,EAAAA,IAAzDc,EAAA0B,aAAagP,EAAA7F,UAAUU,uBAAuBlB,MAAG,UAI7DtL,EAAAA,EAAAA,IAEM,MAFN2D,GAAwB,SAClBxD,EAAAA,EAAAA,IAAEc,EAAA0B,aAAagP,EAAA7F,UAAUlJ,aAAU,IAEzC5C,EAAAA,EAAAA,IAGM,MAHN+D,GAGM,EAFJ/D,EAAAA,EAAAA,IAAgH,UAAxGS,KAAK,SAAUO,QAAKN,EAAA,KAAAA,EAAA,GAAAC,GAAEM,EAAAqS,S,gBAhQpCpT,EAAAA,EAAAA,IAgQ4C,YAAOF,EAAAA,EAAAA,IAAyD,QAAnDuT,MAAA,iCAAmC,aAAS,IAhQrGrT,EAAAA,EAAAA,IAgQ4G,SACtGF,EAAAA,EAAAA,IAA+D,UAAvDS,KAAK,SAAUO,QAAKN,EAAA,KAAAA,EAAA,GAAAC,GAAEM,EAAA4Q,uBAAsB,aAjQ1DC,EAAA,G,kBAyTA,IAAMC,GAAkB,IAAIC,KAAKC,aAEjC,IACEI,MAAO,CAAC,aACRC,KAAMA,KAAA,CACJjB,MAAM,IAERmB,SAAU,CACRU,6BAAAA,GACE,IAAMM,EAAQvL,KAAK6D,UAAUU,uBAAuB7B,wBAAwB7G,OAASmE,KAAK6D,UAAUS,YAAY5B,wBAAwB7G,OACxI,OAAO0P,EAAQ,EAAI,EAAIA,CACzB,EACAJ,6BAAAA,GACE,IAAMI,EAAQvL,KAAK6D,UAAUS,YAAY5B,wBAAwB7G,OAASmE,KAAK6D,UAAUU,uBAAuB7B,wBAAwB7G,OACxI,OAAO0P,EAAQ,EAAI,EAAIA,CACzB,EACAL,yBAAAA,GACE,IAAMK,EAAQvL,KAAK6D,UAAUU,uBAAuBZ,oBAAoB9H,OAASmE,KAAK6D,UAAUS,YAAYX,oBAAoB9H,OAChI,OAAO0P,EAAQ,EAAI,EAAIA,CACzB,EACAH,yBAAAA,GACE,IAAMG,EAAQvL,KAAK6D,UAAUS,YAAYX,oBAAoB9H,OAASmE,KAAK6D,UAAUU,uBAAuBZ,oBAAoB9H,OAChI,OAAO0P,EAAQ,EAAI,EAAIA,CACzB,GAEFb,QAAS,CACPW,IAAAA,GACErL,KAAK2K,KAAKC,KAAK,kBACf5K,KAAK2K,KAAKvB,KAAK,gBACjB,EACAQ,kBAAAA,GACE5J,KAAK2K,KAAKC,KAAK,iBACjB,EACAI,oBAAAA,CAAsB7M,EAAOuE,GAC3B,OAAuC,IAAnCA,EAAwB7G,OACnB,KACY,IAAVsC,EACF,IACEA,IAAUuE,EAAwB7G,OAAS,EAC7C,IAEA,GAEX,EACAnB,aAAewP,GAAQJ,GAAgBW,OAAOP,KC7VlD,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UPuJMJ,GAAkB,IAAIC,KAAKC,aAEjC,IACEjQ,KAAM,gBACNsQ,KAAMA,KAAA,CACJ1N,SAAU,UACVvE,SAAU,UACV2F,kBAAmB,EACnBvD,eAAgB,IAAIuL,IACpBpN,cAAe,EACfE,gBAAiB,EACjBC,sBAAuB,IAEzByR,UAAQiB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,IACHC,EAAAA,EAAAA,IAAS,CAAC,cAAe,gBACzBC,EAAAA,EAAAA,IAAW,CAAC,8BAEjBC,WAAY,CACVzL,SAAQ,GACR0L,UAASA,IAEXC,OAAAA,GACE7L,KAAK3G,YACP,EACAqR,SAAOc,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CACL3Q,iBAAAA,CAAmBlB,GACjBqG,KAAKjC,kBAAoBpE,EACzBqG,KAAK2K,KAAKvB,KAAK,gBACjB,EACAQ,kBAAAA,GACE5J,KAAKjC,kBAAoB+N,GAC3B,IACGC,EAAAA,EAAAA,IAAa,CAAC,YAAa,eAAgB,qBAAsB,sBAAoB,IACxF3S,WAAAA,GACE4G,KAAKyG,OAAO+D,OAAO,eACfwB,MAAMhM,KAAKjC,qBACbiC,KAAKjC,kBAAoBiC,KAAKzG,YAAYqN,OAAOd,OAAOhM,MACxDkG,KAAK3G,cAEP2G,KAAK3G,YACP,EACA0B,cAAAA,CAAgBpB,GAGd,GAFAqG,KAAKyG,OAAO+D,OAAO,iBAAkB7Q,GACrCqG,KAAKxF,eAAeyR,OAAOtS,GACvBA,IAAMqG,KAAKjC,kBAAmB,CAChC,IAAMmO,EAAUlM,KAAKzG,YAAYqN,OAAOd,OACpCoG,EAAQnJ,KACV/C,KAAKjC,kBAAoB+N,KAEzB9L,KAAK3G,aACL2G,KAAKjC,kBAAoBmO,EAAQpS,MAErC,CACF,EACAT,UAAAA,GACE,IACuCkJ,EADjC4F,EAA0BnI,KAAKyG,OAAO0F,QAAQxQ,yBAAuBgH,GAAAC,EAAAA,EAAAA,GAC3D5C,KAAKzG,YAAYqN,QAAM,IAAvC,IAAAjE,EAAAE,MAAAN,EAAAI,EAAAG,KAAAC,MAAyC,KAA9BpJ,EAAA4I,EAAAzI,MACH+J,EAAYgF,EAAQlO,WAAWqF,KAAKzG,YAAYkB,IAAId,GAAIwO,EAAwB1N,IAAId,IAC1FqG,KAAKxF,eAAewL,IAAIrM,EAAGkK,EAC7B,QAAAP,GAAAX,EAAAY,EAAAD,EAAA,SAAAX,EAAAa,GAAA,CACF,EACAnF,aAAAA,GACE2B,KAAK3G,aACL2G,KAAK2K,KAAKC,KAAK,iBACf5K,KAAK2K,KAAKvB,KAAK,iBACjB,EACA1L,kBAAAA,CAAoBuK,EAAU3K,GAC5B0C,KAAKyG,OAAO+D,OAAO,qBAAsB,CAAEvC,WAAU3K,cACvD,EACAO,uBAAAA,CAAyBgN,EAAO5C,EAAU3K,GACxC0C,KAAKyG,OAAO+D,OAAO,0BAA2B,CAAEvC,WAAU3K,aAAYM,eAAgBiN,EAAMzQ,OAAOoD,SACrG,EACA4O,2BAAAA,CAA6BvB,GACT,UAAdA,EAAMjT,MACRyU,SAASC,cAAcC,cAAc,IAAIC,MAAM,WAC/CxM,KAAK3B,gBAET,EACAoO,4BAAAA,CAA8B5B,GACV,cAAdA,EAAMjT,MACRoI,KAAK2K,KAAKC,KAAK,kBACf5K,KAAK2K,KAAKvB,KAAK,iBAEnB,EACA7K,YAAAA,GACEyB,KAAK0M,MAAMxM,SAASyM,IAAIC,iBAAiB,UAAW5M,KAAKoM,4BAC3D,EACA3N,aAAAA,GACEuB,KAAK0M,MAAMxM,SAASyM,IAAIE,oBAAoB,UAAW7M,KAAKoM,4BAC9D,EACAzN,aAAAA,GACEqB,KAAK0M,MAAMd,UAAUe,IAAIC,iBAAiB,UAAW5M,KAAKyM,6BAC5D,EACA7N,cAAAA,GACEoB,KAAK0M,MAAMd,UAAUe,IAAIE,oBAAoB,UAAW7M,KAAKyM,6BAC/D,EACA/R,aAAewP,GAAQJ,GAAgBW,OAAOP,GAC9CjR,cAAaA,KQ1PjB,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS6T,GAAQ,CAAC,YAAY,qBAEzF,UCaO,MAAMC,GACXjO,WAAAA,CAAa/E,GACXiG,KAAKjG,KAAOA,EACZiG,KAAKO,cAAgB,EACrBP,KAAKqC,OAAS,EACdrC,KAAKM,IAAM,EACXN,KAAKgC,wBAA0B,EAC/BhC,KAAK+B,wBAA0B,EAC/B/B,KAAK/E,SAAW,EAChB+E,KAAKxE,WAAa,EAClBwE,KAAK3E,iBAAmB,EACxB2E,KAAKwB,SAAW,EAChBxB,KAAK4B,WAAa,EAClB5B,KAAK0B,wBAA0B,EAC/B1B,KAAK2B,wBAA0B,EAC/B3B,KAAKqB,wBAA0B,EAC/BrB,KAAKyE,eAAiB,EACtBzE,KAAKkC,gBAAiB,CACxB,EAcK,MAAM8K,GACXlO,WAAAA,CAAa/E,EAAM0D,GACjBuC,KAAKjG,KAAOA,EACZiG,KAAKxD,IAAM,EACXwD,KAAKpC,eAAiB,IAAImI,IAC1B/F,KAAKvC,UAAYA,CACnB,EC1DF,QAAewP,EAAAA,EAAAA,IAAY,CACzBzG,MAAO,CACLjN,YAAa,IAAIwM,IAAI,CAAC,CAAC,EAAG,IAAIgH,GAAS,WACvCG,gBAAiB,EACjBhR,UAAW,IAAI6J,IACfoH,cAAe,GAEjBhB,QAAS,CACPxQ,wBAAAA,CAA0B6K,GACxB,IACiDjE,EAD3C4F,EAA0B,IAAIpC,IAAKpD,GAAAC,EAAAA,EAAAA,GAChB4D,EAAMjN,YAAYqN,QAAM,IAAjD,IAAAjE,EAAAE,MAAAN,EAAAI,EAAAG,KAAAC,MAAmD,KAAxCzF,EAAUiF,EAAAzI,MACnBqO,EAAwBnC,IAAI1I,EAAY,GAC1C,CAAC,OAAAgG,GAAAX,EAAAY,EAAAD,EAAA,SAAAX,EAAAa,GAAA,KAC+CC,EAD/CG,GAAAhB,EAAAA,EAAAA,GACgC4D,EAAMtK,WAAS,IAAhD,IAAA0H,EAAAf,MAAAY,EAAAG,EAAAd,KAAAC,MAAkD,KAAAqK,GAAA1T,EAAAA,EAAAA,GAAA+J,EAAA3J,MAAA,GAAtCmO,EAAQmF,EAAA,GAAExR,EAAMwR,EAAA,GACpB3M,EAAU0H,EAAwB1N,IAAImB,EAAO6B,WACnDgD,EAAQ2C,KAAK,CAAE1L,GAAIuQ,EAAUlO,KAAM6B,EAAO7B,KAAMyC,IAAKZ,EAAOY,IAAKoB,eAAgBhC,EAAOgC,eAAenD,IAAImB,EAAO6B,aAClH0K,EAAwBnC,IAAIpK,EAAO6B,UAAWgD,EAChD,CAAC,OAAA6C,GAAAM,EAAAL,EAAAD,EAAA,SAAAM,EAAAJ,GAAA,CACD,OAAO2E,CACT,GAEFkF,UAAW,CACTjU,WAAAA,CAAaoN,GACXA,EAAM0G,kBACN1G,EAAMjN,YAAYyM,IAAIQ,EAAM0G,gBAAiB,IAAIH,GAAS,MAAMxP,OAAOiJ,EAAM0G,mBAC7E,IAC6CrG,EADvCyG,EAAkB9G,EAAMjN,YAAYqN,OAAOd,OAAOhM,MAAKgN,GAAAlE,EAAAA,EAAAA,GACxC4D,EAAMtK,UAAUqR,UAAQ,IAA7C,IAAAzG,EAAAjE,MAAAgE,EAAAC,EAAAhE,KAAAC,MAA+C,KAApCnH,EAAMiL,EAAA/M,WACUS,IAArBqB,EAAO6B,YACT7B,EAAO6B,UAAY6P,GAErB1R,EAAOgC,eAAeoI,IAAIQ,EAAM0G,iBAAiB,EACnD,CAAC,OAAA5J,GAAAwD,EAAAvD,EAAAD,EAAA,SAAAwD,EAAAtD,GAAA,CACH,EACAzI,cAAAA,CAAgByL,EAAO9O,GACrB8O,EAAMjN,YAAY0S,OAAOvU,GACzB,IAC6CsP,EADvCsG,EAAkB9G,EAAMjN,YAAYqN,OAAOd,OAAOhM,MAAKoN,GAAAtE,EAAAA,EAAAA,GACxC4D,EAAMtK,UAAUqR,UAAQ,IAA7C,IAAArG,EAAArE,MAAAmE,EAAAE,EAAApE,KAAAC,MAA+C,KAApCnH,EAAMoL,EAAAlN,MACf8B,EAAO6B,UAAY6P,EACnB1R,EAAOgC,eAAeqO,OAAOvU,EAC/B,CAAC,OAAA4L,GAAA4D,EAAA3D,EAAAD,EAAA,SAAA4D,EAAA1D,GAAA,CACH,EACAvJ,kBAAAA,CAAoBuM,EAAKhN,GAAoB,IAAhBG,EAACH,EAADG,EAAGO,EAAIV,EAAJU,KAAMC,EAAGX,EAAHW,IACpCqM,EAAMjN,YAAYkB,IAAId,GAAGO,GAAQC,CACnC,EACA8B,SAAAA,CAAWuK,GACT,IAAM8G,EAAkB9G,EAAMjN,YAAYqN,OAAOd,OAAOhM,MACxD0M,EAAM2G,gBACN,IACwChG,EADlCqG,EAAY,IAAIR,GAAO,KAAKzP,OAAOiJ,EAAM2G,eAAgBG,GAAgBjG,GAAAzE,EAAAA,EAAAA,GAC/D4D,EAAMjN,YAAYqN,QAAM,IAAxC,IAAAS,EAAAxE,MAAAsE,EAAAE,EAAAvE,KAAAC,MAA0C,KAA/BpJ,EAACwN,EAAArN,MACV0T,EAAU5P,eAAeoI,IAAIrM,GAAG,EAClC,CAAC,OAAA2J,GAAA+D,EAAA9D,EAAAD,EAAA,SAAA+D,EAAA7D,GAAA,CACDgD,EAAMtK,UAAU8J,IAAIQ,EAAM2G,cAAeK,EAC3C,EACAvQ,YAAAA,CAAcuJ,EAAO9O,GACnB8O,EAAMtK,UAAU+P,OAAOvU,EACzB,EACA2E,gBAAAA,CAAkBmK,EAAK/M,GAAoB,IAAhBE,EAACF,EAADE,EAAGO,EAAIT,EAAJS,KAAMC,EAAGV,EAAHU,IAClCqM,EAAMtK,UAAUzB,IAAId,GAAGO,GAAQC,CACjC,EACAuD,kBAAAA,CAAoB8I,EAAKrK,GAA4B,IAAxB8L,EAAQ9L,EAAR8L,SAAU3K,EAAUnB,EAAVmB,WACrCkJ,EAAMtK,UAAUzB,IAAIwN,GAAUxK,UAAYH,CAC5C,EACAO,uBAAAA,CAAyB2I,EAAKpK,GAA4C,IAAxC6L,EAAQ7L,EAAR6L,SAAU3K,EAAUlB,EAAVkB,WAAYM,EAAcxB,EAAdwB,eACtD4I,EAAMtK,UAAUzB,IAAIwN,GAAUrK,eAAeoI,IAAI1I,EAAYM,EAC/D,GAEF6P,QAAS,CACT,EACAC,QAAS,CACT,KClEFC,EAAAA,EAAAA,IAAUC,IAAeC,IAAIC,IAAOD,KAAIE,EAAAA,EAAAA,OAAiBC,MAAM,O,GCL3DC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqB5T,IAAjB6T,EACH,OAAOA,EAAaC,QAGrB,IAAIC,EAASL,EAAyBE,GAAY,CAGjDE,QAAS,CAAC,GAOX,OAHAE,EAAoBJ,GAAUK,KAAKF,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAGpEI,EAAOD,OACf,CAGAH,EAAoBO,EAAIF,E,WCzBxB,IAAIG,EAAW,GACfR,EAAoBS,EAAI,SAASC,EAAQC,EAAUC,EAAIC,GACtD,IAAGF,EAAH,CAMA,IAAIG,EAAe5K,IACnB,IAASzK,EAAI,EAAGA,EAAI+U,EAAS7S,OAAQlC,IAAK,CACrCkV,EAAWH,EAAS/U,GAAG,GACvBmV,EAAKJ,EAAS/U,GAAG,GACjBoV,EAAWL,EAAS/U,GAAG,GAE3B,IAJA,IAGIsV,GAAY,EACP9I,EAAI,EAAGA,EAAI0I,EAAShT,OAAQsK,MACpB,EAAX4I,GAAsBC,GAAgBD,IAAanH,OAAOhB,KAAKsH,EAAoBS,GAAGO,OAAM,SAAStX,GAAO,OAAOsW,EAAoBS,EAAE/W,GAAKiX,EAAS1I,GAAK,IAChK0I,EAASM,OAAOhJ,IAAK,IAErB8I,GAAY,EACTF,EAAWC,IAAcA,EAAeD,IAG7C,GAAGE,EAAW,CACbP,EAASS,OAAOxV,IAAK,GACrB,IAAIyV,EAAIN,SACEvU,IAAN6U,IAAiBR,EAASQ,EAC/B,CACD,CACA,OAAOR,CArBP,CAJCG,EAAWA,GAAY,EACvB,IAAI,IAAIpV,EAAI+U,EAAS7S,OAAQlC,EAAI,GAAK+U,EAAS/U,EAAI,GAAG,GAAKoV,EAAUpV,IAAK+U,EAAS/U,GAAK+U,EAAS/U,EAAI,GACrG+U,EAAS/U,GAAK,CAACkV,EAAUC,EAAIC,EAwB/B,C,eC5BAb,EAAoBmB,EAAI,SAAShB,EAASiB,GACzC,IAAI,IAAI1X,KAAO0X,EACXpB,EAAoBqB,EAAED,EAAY1X,KAASsW,EAAoBqB,EAAElB,EAASzW,IAC5EgQ,OAAO4H,eAAenB,EAASzW,EAAK,CAAE6X,YAAY,EAAMhV,IAAK6U,EAAW1X,IAG3E,C,eCPAsW,EAAoBwB,EAAI,WACvB,GAA0B,kBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAO3P,MAAQ,IAAI4P,SAAS,cAAb,EAChB,CAAE,MAAOrM,GACR,GAAsB,kBAAXsM,OAAqB,OAAOA,MACxC,CACA,CAPuB,E,eCAxB3B,EAAoBqB,EAAI,SAASO,EAAK5V,GAAQ,OAAO0N,OAAOmI,UAAUC,eAAexB,KAAKsB,EAAK5V,EAAO,C,eCKtG,IAAI+V,EAAkB,CACrB,IAAK,GAaN/B,EAAoBS,EAAExI,EAAI,SAAS+J,GAAW,OAAoC,IAA7BD,EAAgBC,EAAgB,EAGrF,IAAIC,EAAuB,SAASC,EAA4B/F,GAC/D,IAKI8D,EAAU+B,EALVrB,EAAWxE,EAAK,GAChBgG,EAAchG,EAAK,GACnBiG,EAAUjG,EAAK,GAGI1Q,EAAI,EAC3B,GAAGkV,EAAS0B,MAAK,SAAS7Y,GAAM,OAA+B,IAAxBuY,EAAgBvY,EAAW,IAAI,CACrE,IAAIyW,KAAYkC,EACZnC,EAAoBqB,EAAEc,EAAalC,KACrCD,EAAoBO,EAAEN,GAAYkC,EAAYlC,IAGhD,GAAGmC,EAAS,IAAI1B,EAAS0B,EAAQpC,EAClC,CAEA,IADGkC,GAA4BA,EAA2B/F,GACrD1Q,EAAIkV,EAAShT,OAAQlC,IACzBuW,EAAUrB,EAASlV,GAChBuU,EAAoBqB,EAAEU,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAOhC,EAAoBS,EAAEC,EAC9B,EAEI4B,EAAqBC,KAAK,6BAA+BA,KAAK,8BAAgC,GAClGD,EAAmBE,QAAQP,EAAqBQ,KAAK,KAAM,IAC3DH,EAAmBpN,KAAO+M,EAAqBQ,KAAK,KAAMH,EAAmBpN,KAAKuN,KAAKH,G,IC/CvF,IAAII,EAAsB1C,EAAoBS,OAAEpU,EAAW,CAAC,MAAM,WAAa,OAAO2T,EAAoB,KAAO,IACjH0C,EAAsB1C,EAAoBS,EAAEiC,E","sources":["webpack://hksalariestax/./src/Main.vue","webpack://hksalariestax/./src/taxrule.js","webpack://hksalariestax/./src/combinatorics.js","webpack://hksalariestax/./src/autocalculate.js","webpack://hksalariestax/./src/taxPayer.vue","webpack://hksalariestax/./src/taxPayer.vue?5ba9","webpack://hksalariestax/./src/taxResult.vue","webpack://hksalariestax/./src/taxResult.vue?fccf","webpack://hksalariestax/./src/Main.vue?e6f1","webpack://hksalariestax/./src/store/objects.js","webpack://hksalariestax/./src/store/index.js","webpack://hksalariestax/./src/main.js","webpack://hksalariestax/webpack/bootstrap","webpack://hksalariestax/webpack/runtime/chunk loaded","webpack://hksalariestax/webpack/runtime/define property getters","webpack://hksalariestax/webpack/runtime/global","webpack://hksalariestax/webpack/runtime/hasOwnProperty shorthand","webpack://hksalariestax/webpack/runtime/jsonp chunk loading","webpack://hksalariestax/webpack/startup"],"sourcesContent":["<template>\n<h1>薪俸稅計算機</h1>\n<div id=\"version\">\n根據 {{taxYear2}} 年度財政預算案制定<br/>\n<a href=\"https://github.com/leeyc0/hksalariestax/wiki\">使用說明</a> <a href=\"https://github.com/leeyc0/hksalariestax/\">Source code</a>\n</div>\n<div id=\"formLayout\">\n  <div id=\"autocalculate\" class=\"border\">\n    自動分配免稅額專用選項\n    <table>\n      <tr><td>受供養健全兄弟姊妹總數</td><td><input type=\"number\" v-model.number=\"totalSiblings\" /></td></tr>\n      <tr><td>受供養健全兄弟姊妹總數<br>（{{taxYear2}}年度失去資格）</td><td><input type=\"number\" v-model.number=\"totalSiblings18\" /></td></tr>\n      <tr><td>受供養傷殘兄弟姊妹總數</td><td><input type=\"number\" v-model.number=\"totalDisabledSiblings\" /></td></tr>\n    </table>\n    <button type=\"button\" @click=\"autocalculate\">自動分配免稅額</button>\n  </div>\n  <div id=\"taxpayerform\" class=\"border\">\n    納稅人\n    <button type=\"button\" @click=\"addTaxPayer\">新增</button>\n    <button type=\"button\" @click=\"computeTax()\">全部計算</button>\n    <br/>\n    <div v-for=\"[i, taxPayer] of taxPayerMap\" :key=\"i\" class=\"taxPayerInput\">\n      <div>\n        <input size=\"12\" :value=\"taxPayer.name\" @change=\"changeTaxPayerProp({ i, prop:'name', val:$event.target.value })\" /><br />\n        稅款 <input size=\"10\" readonly :value=\"taxPayerResult.get(i) === undefined ? '0' : formatNumber(taxPayerResult.get(i).taxPayable)\" />\n        <button type=\"button\" @click=\"showTaxPayerModal(i)\">填寫報稅表</button>\n        <button type=\"button\" @click=\"deleteTaxPayer(i)\">刪除</button><br/>\n        健全兄弟姊妹\n        <input :value=\"taxPayer.siblings\" @change=\"changeTaxPayerProp({ i, prop:'siblings', val:parseInt($event.target.value) })\" type=\"number\" min=\"0\" />\n        傷殘兄弟姊妹\n        <input :value=\"taxPayer.disabledSiblings\" @change=\"changeTaxPayerProp({ i, prop:'disabledSiblings', val:parseInt($event.target.value) })\" type=\"number\" min=\"0\" />\n        <br />\n        健全兄弟姊妹（{{$root.taxYear2}}年度年滿）\n        <input :value=\"taxPayer.siblings18\" @change=\"changeTaxPayerProp({ i, prop:'siblings18', val:parseInt($event.target.value) })\" type=\"number\" min=\"0\" />\n        <br />\n        父母免稅額\n        <div class=\"flex\">\n          <div v-for=\"parent in parentsClaimedByTaxpayer.get(i)\" :key=\"parent.id\" class=\"parentTag\">\n            {{parent.name}}\n          </div>\n          <div v-if=\"parentsClaimedByTaxpayer.get(i).length===0\">\n            （無）\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div id=\"parentform\" class=\"border\">\n    受供養父母\n    <button type=\"button\" @click=\"addParent\">新增</button><br/>\n    <div v-for=\"[i, parent] of parentMap\" :key=\"i\" class=\"parentInput\">\n      <div>\n        <input :value=\"parent.name\" @change=\"changeParentProp({ i, prop:'name', val:$event.target.value })\" />\n        <select @change=\"changeParentProp({ i, prop:'age', val:parseInt($event.target.value) })\">\n          <option :value=\"0\" v-bind:selected=\"parent.age === 0\">傷殘——不論年齡</option>\n          <optgroup label=\"以下選項均非傷殘人士\"/>\n          <option :value=\"1\" v-bind:selected=\"parent.age === 1\">於{{taxYear1}}年度滿54歲</option>\n          <option :value=\"2\" v-bind:selected=\"parent.age === 2\">於{{taxYear1}}年度滿55歲</option>\n          <option :value=\"3\" v-bind:selected=\"parent.age === 3\">於{{taxYear1}}年度滿59歲</option>\n          <option :value=\"4\" v-bind:selected=\"parent.age === 4\">於{{taxYear1}}年度滿60歲</option>\n        </select>\n        <button type=\"button\" @click=\"deleteParent(i)\">刪除</button><br/>\n      </div>\n      <div class=\"flex\">\n        <div v-for=\"[taxPayerId, taxPayer] of taxPayerMap\" :key=\"taxPayerId\">\n          <label>\n            <input type=\"radio\" :name=\"'parent'.concat(i)\" :checked=\"parent.claimedBy === taxPayerId\"\n              @change=\"setParentClaimedBy(i, taxPayerId)\" /> {{taxPayer.name}}\n          </label>\n          <label>\n            <input type=\"checkbox\" :checked=\"parent.livingTogether.get(taxPayerId)\"\n              @change=\"setParentLivingTogether($event, i, taxPayerId)\" /> 全年同住\n          </label>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<taxpayer ref=\"taxpayer\" v-if=\"taxPayerMap.get(showTaxPayerIndex) !== undefined\" :tax-payer=\"taxPayerMap.get(showTaxPayerIndex)\"\n  :index=\"showTaxPayerIndex\" @showTaxResult=\"showTaxResult\" @opened=\"taxpayerOpen\" @before-close=\"taxpayerClose\" />\n<taxresult ref=\"taxresult\" v-if=\"taxPayerResult.get(showTaxPayerIndex) !== undefined\" :tax-result=\"taxPayerResult.get(showTaxPayerIndex)\"\n  :index=\"showTaxPayerIndex\" @opened=\"taxresultOpen\" @before-close=\"taxresultClose\" />\n</template>\n\n<style>\n.modal-container {\n  display: flex;\n    align-items: flex-start;\n  overflow: auto;\n}\n\n.modal-content {\n  margin-top: 30px;\n  margin-bottom: 30px;\n  margin-left: 30px;\n  background-color: white;\n  padding: 16px;\n  border-radius: 4px;\n}\n\n.flex {\n  display: flex;\n  flex-wrap: wrap;\n}\n\ndiv.border {\n  border: 1px solid black;\n}\n</style>\n\n<style scoped>\n#formLayout {\n  display: grid;\n  grid-row-gap: 10px;\n  grid-column-gap: 10px;\n  grid-template-columns: repeat(auto-fill, 450px);\n  max-width: 910px;\n}\n\nh1 {\n  line-height: 0.5em;\n}\n\n#version {\n  padding-bottom: 10px;\n}\n\n#autocalculate, #taxpayerform, #parentform {\n  padding: 10px;\n}\n\n#autocalculate {\n  grid-column: 1/-1;\n}\n\n.taxPayerInput {\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n\n.parentInput {\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n\n.parentTag {\n  margin-right: 5px;\n}\n\ninput[type=number] {\n  width: 3em;\n}\n</style>\n\n<script>\nimport { mapState, mapGetters, mapMutations } from 'vuex'\nimport taxrule from './taxrule.js'\nimport { autocalculate } from './autocalculate.js'\nimport taxpayer from './taxPayer.vue'\nimport taxresult from './taxResult.vue'\n\nconst numberFormatter = new Intl.NumberFormat()\n\nexport default {\n  name: 'TaxCalculator',\n  data: () => ({\n    taxYear1: '2024/25',\n    taxYear2: '2025/26',\n    showTaxPayerIndex: 1,\n    taxPayerResult: new Map(),\n    totalSiblings: 0,\n    totalSiblings18: 0,\n    totalDisabledSiblings: 0\n  }),\n  computed: {\n    ...mapState(['taxPayerMap', 'parentMap']),\n    ...mapGetters(['parentsClaimedByTaxpayer'])\n  },\n  components: {\n    taxpayer,\n    taxresult\n  },\n  created () {\n    this.computeTax()\n  },\n  methods: {\n    showTaxPayerModal (i) {\n      this.showTaxPayerIndex = i\n      this.$vfm.show('taxPayerModal')\n    },\n    disableModalMethod () {\n      this.showTaxPayerIndex = NaN\n    },\n    ...mapMutations(['addParent', 'deleteParent', 'changeTaxPayerProp', 'changeParentProp']),\n    addTaxPayer () {\n      this.$store.commit('addTaxPayer')\n      if (isNaN(this.showTaxPayerIndex)) {\n        this.showTaxPayerIndex = this.taxPayerMap.keys().next().value\n        this.computeTax()\n      }\n      this.computeTax()\n    },\n    deleteTaxPayer (i) {\n      this.$store.commit('deleteTaxPayer', i)\n      this.taxPayerResult.delete(i)\n      if (i === this.showTaxPayerIndex) {\n        const nextVal = this.taxPayerMap.keys().next()\n        if (nextVal.done) {\n          this.showTaxPayerIndex = NaN\n        } else {\n          this.computeTax()\n          this.showTaxPayerIndex = nextVal.value\n        }\n      }\n    },\n    computeTax () {\n      const parentsMapForTaxpayable = this.$store.getters.parentsClaimedByTaxpayer\n      for (const i of this.taxPayerMap.keys()) {\n        const taxResult = taxrule.taxPayable(this.taxPayerMap.get(i), parentsMapForTaxpayable.get(i))\n        this.taxPayerResult.set(i, taxResult)\n      }\n    },\n    showTaxResult () {\n      this.computeTax()\n      this.$vfm.hide('taxPayerModal')\n      this.$vfm.show('taxResultModal')\n    },\n    setParentClaimedBy (parentId, taxPayerId) {\n      this.$store.commit('setParentClaimedBy', { parentId, taxPayerId })\n    },\n    setParentLivingTogether (event, parentId, taxPayerId) {\n      this.$store.commit('setParentLivingTogether', { parentId, taxPayerId, livingTogether: event.target.checked })\n    },\n    taxpayerOpenKeydownListener (event) {\n      if (event.key === 'Enter') {\n        document.activeElement.dispatchEvent(new Event('change'))\n        this.showTaxResult()\n      }\n    },\n    taxresultOpenKeydownListener (event) {\n      if (event.key === 'Backspace') {\n        this.$vfm.hide('taxResultModal')\n        this.$vfm.show('taxPayerModal')\n      }\n    },\n    taxpayerOpen () {\n      this.$refs.taxpayer.$el.addEventListener('keydown', this.taxpayerOpenKeydownListener)\n    },\n    taxpayerClose () {\n      this.$refs.taxpayer.$el.removeEventListener('keydown', this.taxpayerOpenKeydownListener)\n    },\n    taxresultOpen () {\n      this.$refs.taxresult.$el.addEventListener('keydown', this.taxresultOpenKeydownListener)\n    },\n    taxresultClose () {\n      this.$refs.taxresult.$el.removeEventListener('keydown', this.taxresultOpenKeydownListener)\n    },\n    formatNumber: (num) => numberFormatter.format(num),\n    autocalculate\n  }\n}\n</script>\n","'use strict'\n\nclass TaxRule {\n  /*\n    Constructor\n    progressiveRate:             Array of {step,rate}\n      step:                        current rate step (int), the last step must be Infinity\n      rate:                        current rate in percent (float)\n      Example:\n      [\n        {step:45000, rate:2},     // first $45000 at 2%\n        {step:45000, rate:7},     // next $45000 at 7%\n        {step:45000, rate:12},    // next $45000 at 12%\n        {step:Infinity, rate:17}  // remainder at 17%\n      ];\n    stdRate:                     Array of {step,rate}\n      step:                        current rate step (int), the last step must be Infinity\n      rate:                        current rate in percent (float)\n      Example:\n      [\n        {step:5000000, rate:15},     // first $5000000 at 15%\n        {step:Infinity, rate:16},    // remainder at 16%\n      ];\n    basicAllowance:              Basic Allowance\n    mpfMax:                      Maximum MPF mandatory payment\n    mpfMaxMultiplier:            Maximum MPF mandatory payment multiplier (mpfMaxNextYear/mpfMax), used when mpfMax increases\n    parentAllowance:             Dependent Parent and Dependent Grandparent Allowance\n    parentAdditionalAllowance:   Dependent Parent and Dependent Grandparent Additional Allowance\n    parentAllowance55:           Dependent Parent and Dependent Grandparent Allowance (55-64)\n    parentAdditionalAllowance55: Dependent Parent and Dependent Grandparent Additional Allowance (55-64)\n    siblingAllowance:            Dependent Brother or Dependent Sister Allowance\n    disabledDependentAllowance:  Disabled dependant allowance\n    childAllowance:              Child Allowance\n    newbornChildExtraAllowance:  Newborn Child Extra Allowance\n    provisionalYear:             Provision tax year\n  */\n  constructor ({\n    progressiveRate, stdRate,\n    basicAllowance, marriedAllowance,\n    mpfMax, mpfMaxMultiplier,\n    parentAllowance, parentAdditionalAllowance,\n    parentAllowance55, parentAdditionalAllowance55,\n    siblingAllowance, disabledDependentAllowance,\n    childAllowance, newbornChildAdditionalAllowance,\n    singleParentAllowance, personalDisabilityAllowance,\n    provisionalYear\n  }) {\n    this.progressiveRate = progressiveRate\n    this.stdRate = stdRate\n    this.basicAllowance = basicAllowance\n    this.marriedAllowance = marriedAllowance\n    this.mpfMax = mpfMax\n    this.mpfMaxMultiplier = mpfMaxMultiplier\n    this.parentAllowance = parentAllowance\n    this.parentAdditionalAllowance = parentAdditionalAllowance\n    this.parentAllowance55 = parentAllowance55\n    this.parentAdditionalAllowance55 = parentAdditionalAllowance55\n    this.siblingAllowance = siblingAllowance\n    this.disabledDependentAllowance = disabledDependentAllowance\n    this.childAllowance = childAllowance\n    this.newbornChildAdditionalAllowance = newbornChildAdditionalAllowance\n    this.singleParentAllowance = singleParentAllowance\n    this.personalDisabilityAllowance = personalDisabilityAllowance\n    this.provisionalYear = provisionalYear\n  }\n\n  /*\n    Calculates MPF deduction\n    taxpayer: TaxPayer object\n    returns: calculated MPF deduction\n  */\n  calculateMpfDeduction (taxpayer) {\n    let mpfDeduction = Math.floor(taxpayer.mpf * this.mpfMaxMultiplier)\n    let mpfMax = this.mpfMax\n    if (taxpayer.martialStatus === 1) {\n      mpfMax *= 2\n    }\n    if (mpfDeduction > mpfMax) {\n      mpfDeduction = mpfMax\n    }\n    return mpfDeduction\n  }\n\n  /*\n    Calculates Dependent Parent and Dependent Grandparent Allowance\n    parents: (see calculateTax)\n    returns: calculated Dependent Parent and Dependent Grandparent Allowance\n  */\n  calculateParentAllowance (parents) {\n    let totalParentAllowance = 0\n    const parentCount = {\n      livingTogether: 0,\n      nonLivingTogether: 0,\n      livingTogether55: 0,\n      nonLivingTogether55: 0\n    }\n\n    // count total parents, need to distinglish between two tax years\n    if (this.provisionalYear) {\n      parents.reduce(\n        function (parentCountAccu, parentObj) {\n          switch (parentObj.age) {\n            case 0:\n            case 3:\n            case 4:\n              if (parentObj.livingTogether) {\n                parentCountAccu.livingTogether++\n              } else {\n                parentCountAccu.nonLivingTogether++\n              }\n              break\n            case 1:\n            case 2:\n              if (parentObj.livingTogether) {\n                parentCountAccu.livingTogether55++\n              } else {\n                parentCountAccu.nonLivingTogether55++\n              }\n              break\n          }\n          return parentCountAccu\n        }\n        , parentCount)\n    } else {\n      parents.reduce(\n        function (parentCountAccu, parentObj) {\n          switch (parentObj.age) {\n            case 0:\n            case 4:\n              if (parentObj.livingTogether) {\n                parentCountAccu.livingTogether++\n              } else {\n                parentCountAccu.nonLivingTogether++\n              }\n              break\n            case 2:\n            case 3:\n              if (parentObj.livingTogether) {\n                parentCountAccu.livingTogether55++\n              } else {\n                parentCountAccu.nonLivingTogether55++\n              }\n              break\n          }\n          return parentCountAccu\n        }\n        , parentCount)\n    }\n    totalParentAllowance += (parentCount.livingTogether + parentCount.nonLivingTogether) * this.parentAllowance\n    totalParentAllowance += parentCount.livingTogether * this.parentAdditionalAllowance\n    totalParentAllowance += (parentCount.livingTogether55 + parentCount.nonLivingTogether55) * this.parentAllowance55\n    totalParentAllowance += parentCount.livingTogether55 * this.parentAdditionalAllowance55\n    return totalParentAllowance\n  }\n\n  /*\n    Calculates Dependent Brother or Dependent Sister Allowance\n    taxpayer: TaxPayer object\n    returns: calculated Dependent Brother or Dependent Sister Allowance\n  */\n  calculateSiblingAllowance (taxpayer) {\n    let siblings = 0\n    if (this.provisionalYear) {\n      siblings = taxpayer.siblings + taxpayer.disabledSiblings\n    } else {\n      siblings = taxpayer.siblings + taxpayer.disabledSiblings + taxpayer.siblings18\n    }\n    return this.siblingAllowance * siblings\n  }\n\n  /*\n    Calculates Disabled Dependant Allowance\n    taxpayer: TaxPayer object\n    parents: (see calculateTax)\n    returns: calculated Disabled dependant allowance\n  */\n  calculateDisabledDependentAllowance (taxpayer, parents) {\n    let disabledDependents = taxpayer.disabledSiblings + taxpayer.otherDisabledDependants\n    disabledDependents += parents.reduce(\n      function (count, parentObj) {\n        if (parentObj.age === 0) {\n          count++\n          return count\n        } else {\n          return count\n        }\n      },\n      0)\n    return this.disabledDependentAllowance * disabledDependents\n  }\n\n  /*\n    Calculates Child Allowance and Single Parent Allowance\n    taxpayer: TaxPayer object\n    returns: calculated Child allowance and Single Parent Allowance\n  */\n  calculateChildAllowanceAndSingleParentAllowance (taxpayer) {\n    let children = 0\n    let newbornChildren = 0\n    if (this.provisionalYear) {\n      /* newbornChildrenNextYear:\n         children born from the start of provisionalYear until the time of tax reporting */\n      children = taxpayer.children + taxpayer.newbornChildrenThisYear + taxpayer.newbornChildrenNextYear\n      newbornChildren = taxpayer.newbornChildrenNextYear\n    } else {\n      children = taxpayer.children + taxpayer.children18 + taxpayer.newbornChildrenThisYear\n      newbornChildren = taxpayer.newbornChildrenThisYear\n    }\n\n    // tax rule states that maximum of 9 children can be claimed\n    if (newbornChildren > 9) {\n      newbornChildren = 9\n    }\n    if (children > 9) {\n      children = 9\n    }\n\n    const childAllowance = this.childAllowance * children +\n                         this.newbornChildAdditionalAllowance * newbornChildren\n\n    let singleParentAllowance = 0\n\n    if (childAllowance > 0) {\n      if (this.provisionalYear) {\n        if (taxpayer.martialStatus === 2 || taxpayer.martialStatus === 3) {\n          singleParentAllowance = this.singleParentAllowance\n        }\n      } else {\n        if (taxpayer.martialStatus === 3) {\n          singleParentAllowance = this.singleParentAllowance\n        }\n      }\n    }\n\n    return { childAllowance, singleParentAllowance }\n  }\n\n  /*\n    Calculate tax - the only public interface\n    taxpayer: TaxPayer object\n    parents: see taxPayable\n  */\n  calculateTax (taxpayer, parents) {\n    const otherDeductions = this.provisionalYear\n      ? taxpayer.otherDeductionsNextYear\n      : taxpayer.otherDeductionsThisYear\n\n    // progressive rate: calculate taxable income\n    const mpfFinal = this.calculateMpfDeduction(taxpayer)\n    const basicAllowance = taxpayer.martialStatus !== 1 ? this.basicAllowance : 0\n    const marriedAllowance = taxpayer.martialStatus === 1 ? this.marriedAllowance : 0\n    const personalDisabilityAllowance = taxpayer.disabledPerson ? this.personalDisabilityAllowance : 0\n    const parentAllowance = this.calculateParentAllowance(parents)\n    const siblingAllowance = this.calculateSiblingAllowance(taxpayer)\n    const { childAllowance, singleParentAllowance } = this.calculateChildAllowanceAndSingleParentAllowance(taxpayer)\n    const disabledDependentAllowance = this.calculateDisabledDependentAllowance(taxpayer, parents)\n    let taxableIncome = taxpayer.income - mpfFinal - otherDeductions -\n                        basicAllowance - marriedAllowance - personalDisabilityAllowance -\n                        parentAllowance - siblingAllowance - disabledDependentAllowance -\n                        childAllowance - singleParentAllowance\n    let taxableIncomeStdRate = taxpayer.income - mpfFinal - otherDeductions\n    if (taxableIncome < 0) {\n      taxableIncome = 0\n    }\n    if (taxableIncomeStdRate < 0) {\n      taxableIncomeStdRate = 0\n    }\n\n    // progressive rate: calculate tax payable based on taxable income\n    let stepTotal = 0\n    let progressiveTax = 0\n    const progressiveTaxBreakdown = []\n    for (const i of this.progressiveRate) {\n      if (taxableIncome < stepTotal + i.step) {\n        const remainder = taxableIncome - stepTotal\n        const stepTax = Math.floor(remainder * i.rate / 100)\n        progressiveTaxBreakdown.push({ step: remainder, rate: i.rate, tax: stepTax })\n        progressiveTax += stepTax\n        break\n      } else {\n        stepTotal += i.step\n        const stepTax = i.step * i.rate / 100\n        progressiveTaxBreakdown.push({ step: i.step, rate: i.rate, tax: stepTax })\n        progressiveTax += stepTax\n      }\n    }\n\n    // standard rate - no allowances\n    stepTotal = 0\n    let stdRateTax = 0\n    const stdRateTaxBreakdown = []\n    for (const i of this.stdRate) {\n      if (taxableIncomeStdRate < stepTotal + i.step) {\n        const remainder = taxableIncomeStdRate - stepTotal\n        const stepTax = Math.floor(remainder * i.rate / 100)\n        stdRateTaxBreakdown.push({ step: remainder, rate: i.rate, tax: stepTax })\n        stdRateTax += stepTax\n        break\n      } else {\n        stepTotal += i.step\n        const stepTax = i.step * i.rate / 100\n        stdRateTaxBreakdown.push({ step: i.step, rate: i.rate, tax: stepTax })\n        stdRateTax += stepTax\n      }\n    }\n\n    const taxResult = {\n      income: taxpayer.income,\n      taxableIncome,\n      taxableIncomeStdRate,\n      mpf: mpfFinal,\n      basicAllowance,\n      marriedAllowance,\n      personalDisabilityAllowance,\n      otherDeductions,\n      parentAllowance,\n      siblingAllowance,\n      childAllowance,\n      singleParentAllowance,\n      disabledDependentAllowance,\n      progressiveTaxBreakdown,\n      progressiveTax,\n      stdRateTaxBreakdown,\n      stdRateTax\n    }\n    if (progressiveTax <= stdRateTax) {\n      taxResult.rate = 'progressiveTax'\n      taxResult.tax = progressiveTax\n    } else {\n      taxResult.rate = 'stdRateTax'\n      taxResult.tax = stdRateTax\n    }\n    return taxResult\n  }\n}\n\nfunction taxRebate (tax) {\n  const rebateRate = 100\n  const maxRebate = 1500\n  let rebate = Math.ceil(tax * rebateRate / 100)\n\n  if (rebate > maxRebate) {\n    rebate = maxRebate\n  }\n  return rebate\n}\n\n/*\n  taxpayer: TaxPayer object\n  income: income\n  parents: array of {age:int(0-4), livingTogether:boolean}, see objects.js function Parent for attr definition\n*/\nfunction taxPayable (taxpayer, parents) {\n  const taxRule2024 = new TaxRule({\n    progressiveRate: [\n      { step: 50000, rate: 2 },\n      { step: 50000, rate: 6 },\n      { step: 50000, rate: 10 },\n      { step: 50000, rate: 14 },\n      { step: Infinity, rate: 17 }\n    ],\n    stdRate: [\n      { step: 5000000, rate: 15 },\n      { step: Infinity, rate: 16 }\n    ],\n    basicAllowance: 132000,\n    marriedAllowance: 264000,\n    mpfMax: 18000,\n    mpfMaxMultiplier: 1.0,\n    parentAllowance: 50000,\n    parentAdditionalAllowance: 50000,\n    parentAllowance55: 25000,\n    parentAdditionalAllowance55: 25000,\n    siblingAllowance: 37500,\n    disabledDependentAllowance: 75000,\n    childAllowance: 130000,\n    singleParentAllowance: 132000,\n    newbornChildAdditionalAllowance: 130000,\n    personalDisabilityAllowance: 75000,\n    provisionalYear: false\n  })\n\n  const taxRule2025 = new TaxRule({\n    progressiveRate: [\n      { step: 50000, rate: 2 },\n      { step: 50000, rate: 6 },\n      { step: 50000, rate: 10 },\n      { step: 50000, rate: 14 },\n      { step: Infinity, rate: 17 }\n    ],\n    stdRate: [\n      { step: 5000000, rate: 15 },\n      { step: Infinity, rate: 16 }\n    ],\n    basicAllowance: 132000,\n    marriedAllowance: 264000,\n    mpfMax: 18000,\n    mpfMaxMultiplier: 1.0,\n    parentAllowance: 50000,\n    parentAdditionalAllowance: 50000,\n    parentAllowance55: 25000,\n    parentAdditionalAllowance55: 25000,\n    siblingAllowance: 37500,\n    disabledDependentAllowance: 75000,\n    childAllowance: 130000,\n    singleParentAllowance: 132000,\n    newbornChildAdditionalAllowance: 130000,\n    personalDisabilityAllowance: 75000,\n    provisionalYear: true\n  })\n\n  const taxThisYear = taxRule2024.calculateTax(taxpayer, parents)\n  const taxNextYearProvisional = taxRule2025.calculateTax(taxpayer, parents)\n  const rebate = taxRebate(taxThisYear.tax)\n  const taxThisYearFinal = taxThisYear.tax - taxpayer.provisionalTax - rebate\n  const taxPayable = taxThisYear.tax - taxpayer.provisionalTax - rebate + taxNextYearProvisional.tax\n  return { taxThisYear, taxThisYearFinal, taxNextYearProvisional, taxThisYearProvisional: taxpayer.provisionalTax, rebate, taxPayable }\n}\n\n/* eslint-disable-next-line no-undef */\nexport default { TaxRule, taxRebate, taxPayable }\n","'use strict'\n\nfunction * distinglishableBallInBoxes (balls, boxes) {\n  let counter = 0\n  const numberOfBalls = balls.length\n  const numberOfBoxes = boxes.length\n  const maxCounter = numberOfBoxes ** numberOfBalls\n  while (counter < maxCounter) {\n    const boxOutput = new Map()\n    for (const box of boxes) {\n      boxOutput.set(box, [])\n    }\n    for (let i = 0; i < numberOfBalls; i++) {\n      const digit = (Math.floor(counter / (numberOfBoxes ** i))) % numberOfBoxes\n      const ballInBox = boxes[digit]\n      boxOutput.get(ballInBox).unshift(balls[numberOfBalls - 1 - i])\n    }\n    counter++\n    yield boxOutput\n  }\n}\n\nfunction * indistinglishableBallInBoxes (numberOfBalls, boxes) {\n  let i = 0\n  let j = 0\n  const numberOfBoxes = boxes.length\n  const boxOutput = new Map()\n\n  for (const box of boxes) {\n    boxOutput.set(box, 0)\n  }\n  boxOutput.set(boxes[0], numberOfBalls)\n\n  while (true) {\n    yield boxOutput\n    if (boxOutput.get(boxes[numberOfBoxes - 1]) === numberOfBalls) {\n      break\n    }\n    if (j === numberOfBoxes - 1) {\n      do {\n        j--\n      } while (boxOutput.get(boxes[j]) === 0)\n      if (i === j) {\n        boxOutput.set(boxes[i], boxOutput.get(boxes[i]) - 1)\n        i++\n        j = i\n        boxOutput.set(boxes[i], boxOutput.get(boxes[numberOfBoxes - 1]) + 1)\n        if (i !== numberOfBoxes - 1) {\n          boxOutput.set(boxes[numberOfBoxes - 1], 0)\n        }\n      } else {\n        boxOutput.set(boxes[j], boxOutput.get(boxes[j]) - 1)\n        j++\n        boxOutput.set(boxes[j], boxOutput.get(boxes[numberOfBoxes - 1]) + 1)\n        if (j !== numberOfBoxes - 1) {\n          boxOutput.set(boxes[numberOfBoxes - 1], 0)\n        }\n      }\n    } else {\n      boxOutput.set(boxes[j], boxOutput.get(boxes[j]) - 1)\n      j++\n      boxOutput.set(boxes[j], boxOutput.get(boxes[j]) + 1)\n    }\n  }\n}\n\nexport default {\n  distinglishableBallInBoxes,\n  indistinglishableBallInBoxes\n}\n","'use strict'\n\nimport combinatorics from './combinatorics.js'\nimport taxrule from './taxrule.js'\n\nexport function autocalculate () {\n  const parentList = []\n  const taxpayerList = []\n  const state = this.$store.state\n  let minimumState = null\n  let minimumTax = Infinity\n\n  for (const i of state.parentMap.keys()) {\n    parentList.push(i)\n  }\n\n  for (const i of state.taxPayerMap.keys()) {\n    taxpayerList.push(i)\n  }\n\n  for (const parentCombo of combinatorics.distinglishableBallInBoxes(parentList, taxpayerList)) {\n    for (const siblingCombo of combinatorics.indistinglishableBallInBoxes(this.totalSiblings, taxpayerList)) {\n      for (const sibling18Combo of combinatorics.indistinglishableBallInBoxes(this.totalSiblings18, taxpayerList)) {\n        for (const disabledSiblingCombo of combinatorics.indistinglishableBallInBoxes(this.totalDisabledSiblings, taxpayerList)) {\n          let totalTax = 0\n          const tempState = Object.assign({}, state)\n          tempState.parentMap = new Map(state.parentMap)\n          tempState.taxPayerMap = new Map(state.taxPayerMap)\n          for (const [parentId, parent] of state.parentMap) {\n            tempState.parentMap.set(parentId, Object.assign({}, parent))\n          }\n\n          const parentsMapForTaxpayable = new Map()\n          for (const taxpayerId of state.taxPayerMap.keys()) {\n            parentsMapForTaxpayable.set(taxpayerId, [])\n            for (const parentId of parentCombo.get(taxpayerId)) {\n              const parent = tempState.parentMap.get(parentId)\n              const parentsForTaxpayable = parentsMapForTaxpayable.get(taxpayerId)\n              parent.claimedBy = taxpayerId\n              parentsForTaxpayable.push({ id: parentId, name: parent.name, age: parent.age, livingTogether: parent.livingTogether.get(parent.claimedBy) })\n              parentsMapForTaxpayable.set(parent.claimedBy, parentsForTaxpayable)\n            }\n          }\n\n          for (const [taxpayerId, taxPayer] of state.taxPayerMap) {\n            const taxPayerClone = Object.assign({}, taxPayer)\n            tempState.taxPayerMap.set(taxpayerId, taxPayerClone)\n\n            taxPayerClone.siblings = siblingCombo.get(taxpayerId)\n            taxPayerClone.siblings18 = sibling18Combo.get(taxpayerId)\n            taxPayerClone.disabledSiblings = disabledSiblingCombo.get(taxpayerId)\n\n            const taxPayable = taxrule.taxPayable(taxPayerClone, parentsMapForTaxpayable.get(taxpayerId))\n            totalTax += taxPayable.taxPayable\n          }\n          if (totalTax < minimumTax) {\n            minimumTax = totalTax\n            minimumState = tempState\n          }\n\n          // eslint-disable-next-line no-console\n          console.log({\n            totalTax,\n            parentCombo: new Map(parentCombo),\n            siblingCombo: new Map(siblingCombo),\n            sibling18Combo: new Map(sibling18Combo),\n            disabledSiblingCombo: new Map(disabledSiblingCombo)\n          })\n        }\n      }\n    }\n  }\n  this.$store.replaceState(minimumState)\n  this.computeTax()\n}\n","<template>\n<vue-final-modal name=\"taxPayerModal\" v-model=\"show\"\n  :esc-to-close=\"true\" classes=\"modal-container\" content-class=\"modal-content\">\n  <div>\n    <table>\n      <tr>\n        <td>納稅人</td>\n        <td><input v-model.lazy=\"name\" /></td>\n      </tr>\n      <tr>\n        <td>傷殘納稅人</td>\n        <td><input v-model.lazy=\"disabledPerson\" type=\"checkbox\" /></td>\n      </tr>\n      <tr>\n        <td>夫婦合併評稅/單親</td>\n        <td>\n        <select v-model.lazy.number=\"martialStatus\">\n          <option :value=\"0\">單身或夫婦分別評稅</option>\n          <option :value=\"1\">夫婦合併評稅</option>\n          <option :value=\"2\">於{{$root.taxYear1}}課稅年度開始單親</option>\n          <option :value=\"3\">於整個{{$root.taxYear1}}課稅年度單親</option>\n        </select>\n        </td>\n      </tr>\n      <tr>\n        <td>總入息</td>\n        <td><input v-model.lazy=\"income\" type=\"text\" pattern=\"[0-9,]*[0-9]\" /></td>\n      </tr>\n      <tr>\n        <td><span class=\"comment\" title=\"報稅表申報項目位於「第4部薪俸稅 → 4.3 扣除 → (4)以僱員身分付給認可退休計劃的強制性供款」\">強積金/認可退休計劃僱員供款</span></td>\n        <td><input v-model.lazy=\"mpf\" type=\"text\" pattern=\"[0-9,]*[0-9]\" /></td>\n      </tr>\n      <tr>\n        <td>適用於{{$root.taxYear1}}年度的其他扣除項目</td>\n        <td><input v-model.lazy=\"otherDeductionsThisYear\" type=\"text\" pattern=\"[0-9,]*[0-9]\" /></td>\n      </tr>\n      <tr>\n        <td>適用於{{$root.taxYear2}}年度的其他扣除項目</td>\n        <td><input v-model.lazy=\"otherDeductionsNextYear\" type=\"text\" pattern=\"[0-9,]*[0-9]\" /></td>\n      </tr>\n      <tr>\n        <td><span class=\"comment\" title=\"請參閱上年稅單暫繳稅項目\">{{$root.taxYear1}}年度暫繳稅實額</span></td>\n        <td><input v-model.lazy=\"provisionalTax\" type=\"text\" pattern=\"[0-9,]*[0-9]\" /></td>\n      </tr>\n      <tr>\n        <td>受供養父母/祖父母/外祖父母</td>\n        <td>\n          <div v-for=\"[i, parent] of $root.parentMap\" :key=\"i\">\n            {{parent.name}}\n            <label><input type=\"radio\" :checked=\"parent.claimedBy === index\" @change=\"setParentClaimedBy(i)\" />申索</label>\n            <label><input type=\"checkbox\" :checked=\"parent.livingTogether.get(index)\" @change=\"setParentLivingTogether($event, i)\" />全年同住</label>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <td>受供養兄弟姊妹數目</td>\n        <td>\n          <input v-model.lazy.number=\"siblings\" type=\"number\" min=\"0\" />健全&nbsp;\n          <input v-model.lazy.number=\"disabledSiblings\" type=\"number\" min=\"0\" />傷殘\n        </td>\n      </tr>\n      <tr>\n        <td>受供養健全兄弟姊妹數目<br/>（{{$root.taxYear2}}年度失去資格）</td>\n        <td><input v-model.lazy.number=\"siblings18\" type=\"number\" min=\"0\" /></td>\n      </tr>\n      <tr>\n        <td>子女數目（不包括新生子女）</td>\n        <td><input v-model.lazy.number=\"children\" type=\"number\" min=\"0\" /></td>\n      </tr>\n      <tr>\n        <td>子女數目<br/>（{{$root.taxYear2}}年度失去資格）</td>\n        <td><input v-model.lazy.number=\"children18\" type=\"number\" min=\"0\" /></td>\n      </tr>\n      <tr>\n        <td>{{$root.taxYear1}}年度新生子女數目</td>\n        <td><input v-model.lazy.number=\"newbornChildrenThisYear\" type=\"number\" min=\"0\" /></td>\n      </tr>\n      <tr>\n        <td>{{$root.taxYear2}}年度新生子女數目</td>\n        <td><input v-model.lazy.number=\"newbornChildrenNextYear\" type=\"number\" min=\"0\" /></td>\n      </tr>\n      <tr>\n        <td>受供養傷殘配偶及子女數目</td>\n        <td><input v-model.lazy.number=\"otherDisabledDependants\" type=\"number\" min=\"0\" /></td>\n      </tr>\n    </table>\n    <button type=\"button\" @click=\"$emit('showTaxResult')\">計算稅款</button>\n    <button type=\"button\" @click=\"disableModalMethod()\">關閉</button>\n  </div>\n</vue-final-modal>\n</template>\n\n<style scoped>\ninput[type=number] {\n  width: 3em;\n}\n\n.comment {\n  text-decoration: underline dashed 0.1em;\n  cursor: help;\n}\n\ntable, tr, td {\n  border: 1px solid black;\n}\n\ntd {\n  padding: 3px;\n}\n\ntable {\n  border-collapse: collapse;\n  margin-bottom: 5px;\n}\n</style>\n\n<script>\nconst numberFormatter = new Intl.NumberFormat()\n\nfunction parseNumberWithComma (num) {\n  return parseInt(num.replace(/,/g, ''))\n}\n\nexport default {\n  props: ['taxPayer', 'index'],\n  data: () => ({\n    show: false\n  }),\n  emits: [\n    'showTaxResult'\n  ],\n  computed: {\n    name: {\n      get () { return this.taxPayer.name },\n      set (val) { this.$store.commit('changeTaxPayerProp', { i: this.index, prop: 'name', val }) }\n    },\n    disabledPerson: {\n      get () { return this.taxPayer.disabledPerson },\n      set (val) { this.$store.commit('changeTaxPayerProp', { i: this.index, prop: 'disabledPerson', val }) }\n    },\n    martialStatus: {\n      get () { return this.taxPayer.martialStatus },\n      set (val) { this.$store.commit('changeTaxPayerProp', { i: this.index, prop: 'martialStatus', val }) }\n    },\n    income: {\n      get () { return numberFormatter.format(this.taxPayer.income) },\n      set (val) { this.$store.commit('changeTaxPayerProp', { i: this.index, prop: 'income', val: parseNumberWithComma(val) }) }\n    },\n    mpf: {\n      get () { return numberFormatter.format(this.taxPayer.mpf) },\n      set (val) { this.$store.commit('changeTaxPayerProp', { i: this.index, prop: 'mpf', val: parseNumberWithComma(val) }) }\n    },\n    otherDeductionsThisYear: {\n      get () { return numberFormatter.format(this.taxPayer.otherDeductionsThisYear) },\n      set (val) { this.$store.commit('changeTaxPayerProp', { i: this.index, prop: 'otherDeductionsThisYear', val: parseNumberWithComma(val) }) }\n    },\n    otherDeductionsNextYear: {\n      get () { return numberFormatter.format(this.taxPayer.otherDeductionsNextYear) },\n      set (val) { this.$store.commit('changeTaxPayerProp', { i: this.index, prop: 'otherDeductionsNextYear', val: parseNumberWithComma(val) }) }\n    },\n    provisionalTax: {\n      get () { return numberFormatter.format(this.taxPayer.provisionalTax) },\n      set (val) { this.$store.commit('changeTaxPayerProp', { i: this.index, prop: 'provisionalTax', val: parseNumberWithComma(val) }) }\n    },\n    siblings: {\n      get () { return numberFormatter.format(this.taxPayer.siblings) },\n      set (val) { this.$store.commit('changeTaxPayerProp', { i: this.index, prop: 'siblings', val }) }\n    },\n    siblings18: {\n      get () { return numberFormatter.format(this.taxPayer.siblings18) },\n      set (val) { this.$store.commit('changeTaxPayerProp', { i: this.index, prop: 'siblings18', val }) }\n    },\n    disabledSiblings: {\n      get () { return numberFormatter.format(this.taxPayer.disabledSiblings) },\n      set (val) { this.$store.commit('changeTaxPayerProp', { i: this.index, prop: 'disabledSiblings', val }) }\n    },\n    children: {\n      get () { return numberFormatter.format(this.taxPayer.children) },\n      set (val) { this.$store.commit('changeTaxPayerProp', { i: this.index, prop: 'children', val }) }\n    },\n    children18: {\n      get () { return numberFormatter.format(this.taxPayer.children18) },\n      set (val) { this.$store.commit('changeTaxPayerProp', { i: this.index, prop: 'children18', val }) }\n    },\n    newbornChildrenThisYear: {\n      get () { return numberFormatter.format(this.taxPayer.newbornChildrenThisYear) },\n      set (val) { this.$store.commit('changeTaxPayerProp', { i: this.index, prop: 'newbornChildrenThisYear', val }) }\n    },\n    newbornChildrenNextYear: {\n      get () { return numberFormatter.format(this.taxPayer.newbornChildrenNextYear) },\n      set (val) { this.$store.commit('changeTaxPayerProp', { i: this.index, prop: 'newbornChildrenNextYear', val }) }\n    },\n    otherDisabledDependants: {\n      get () { return numberFormatter.format(this.taxPayer.otherDisabledDependants) },\n      set (val) { this.$store.commit('changeTaxPayerProp', { i: this.index, prop: 'otherDisabledDependants', val }) }\n    }\n  },\n  methods: {\n    disableModalMethod () {\n      this.$vfm.hide('taxPayerModal')\n    },\n    setParentClaimedBy (parentId) {\n      this.$store.commit('setParentClaimedBy', { parentId, taxPayerId: this.index })\n    },\n    setParentLivingTogether (event, parentId) {\n      this.$store.commit('setParentLivingTogether', { parentId, taxPayerId: this.index, livingTogether: event.target.checked })\n    }\n  }\n}\n</script>\n","import { render } from \"./taxPayer.vue?vue&type=template&id=70063562&scoped=true\"\nimport script from \"./taxPayer.vue?vue&type=script&lang=js\"\nexport * from \"./taxPayer.vue?vue&type=script&lang=js\"\n\nimport \"./taxPayer.vue?vue&type=style&index=0&id=70063562&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-70063562\"]])\n\nexport default __exports__","<template>\n<vue-final-modal name=\"taxResultModal\" v-model=\"show\"\n  :esc-to-close=\"true\" classes=\"modal-container\" content-class=\"modal-content taxResultModalWidth\">\n  <div class=\"taxResultRoot\">\n    <div class=\"border taxResult\">\n      <table>\n        <tr>\n          <th colspan=\"2\">{{$root.taxYear1}}年度</th>\n        </tr>\n        <tr>\n          <th colspan=\"2\">累進稅率</th>\n        </tr>\n        <tr>\n          <td>總入息</td>\n          <td>{{formatNumber(taxResult.taxThisYear.income)}}</td>\n        </tr>\n        <tr>\n          <td>減：扣除項目：強積金僱員供款</td>\n          <td>{{formatNumber(taxResult.taxThisYear.mpf)}}</td>\n        </tr>\n        <tr>\n          <td>減：其他扣除項目</td>\n          <td>{{formatNumber(taxResult.taxThisYear.otherDeductions)}}</td>\n        </tr>\n        <tr>\n          <td>減：基本免稅額</td>\n          <td>{{formatNumber(taxResult.taxThisYear.basicAllowance)}}</td>\n        </tr>\n        <tr>\n          <td>減：已婚人士免稅額</td>\n          <td>{{formatNumber(taxResult.taxThisYear.marriedAllowance)}}</td>\n        </tr>\n        <tr>\n          <td>減：供養父母/祖父母/外祖父母免稅額</td>\n          <td>{{formatNumber(taxResult.taxThisYear.parentAllowance)}}</td>\n        </tr>\n        <tr>\n          <td>減：供養兄弟姊妹免稅額</td>\n          <td>{{formatNumber(taxResult.taxThisYear.siblingAllowance|formatNumber)}}</td>\n        </tr>\n        <tr>\n          <td>減：子女免稅額</td>\n          <td>{{formatNumber(taxResult.taxThisYear.childAllowance)}}</td>\n        </tr>\n        <tr>\n          <td>減：單親免稅額</td>\n          <td>{{formatNumber(taxResult.taxThisYear.singleParentAllowance)}}</td>\n        </tr>\n        <tr>\n          <td>減：傷殘受養人免稅額</td>\n          <td>{{formatNumber(taxResult.taxThisYear.disabledDependentAllowance)}}</td>\n        </tr>\n        <tr>\n          <td>減：傷殘人士免稅額</td>\n          <td>{{formatNumber(taxResult.taxThisYear.personalDisabilityAllowance)}}</td>\n        </tr>\n        <tr>\n          <td>應課稅入息</td>\n          <td>{{formatNumber(taxResult.taxThisYear.taxableIncome)}}</td>\n        </tr>\n        <tr>\n          <th colspan=\"2\">累進稅率稅款計算</th>\n        </tr>\n        <tr v-for=\"(tax,index) in taxResult.taxThisYear.progressiveTaxBreakdown\" :key=\"index\">\n          <td>{{progressiveTaxPrefix(index,taxResult.taxThisYear.progressiveTaxBreakdown)+formatNumber(tax.step)}}@{{tax.rate+\"%\"}}</td>\n          <td>{{formatNumber(tax.tax)}}</td>\n        </tr>\n        <tr v-for=\"i in progressiveThisYearExtraLines\" :key=\"i\">\n          <td colspan=\"2\">&nbsp;</td>\n        </tr>\n        <tr>\n          <th class=\"beforeline\">按累進稅率計算之稅款：</th>\n          <th class=\"beforeline\">{{formatNumber(taxResult.taxThisYear.progressiveTax)}}</th>\n        </tr>\n        <tr>\n          <th colspan=\"2\" class=\"line\">標準稅率</th>\n        </tr>\n        <tr>\n          <td>總入息</td>\n          <td>{{formatNumber(taxResult.taxThisYear.income)}}</td>\n        </tr>\n        <tr>\n          <td>減：扣除項目：強積金僱員供款</td>\n          <td>{{formatNumber(taxResult.taxThisYear.mpf)}}</td>\n        </tr>\n        <tr>\n          <td>減：其他扣除項目</td>\n          <td>{{formatNumber(taxResult.taxThisYear.otherDeductions)}}</td>\n        </tr>\n        <tr>\n          <td>應課稅入息</td>\n          <td>{{formatNumber(taxResult.taxThisYear.taxableIncomeStdRate)}}</td>\n        </tr>\n        <tr>\n          <th colspan=\"2\">標準稅率稅款計算</th>\n        </tr>\n        <tr v-for=\"(tax,index) in taxResult.taxThisYear.stdRateTaxBreakdown\" :key=\"index\">\n          <td>{{progressiveTaxPrefix(index,taxResult.taxThisYear.stdRateTaxBreakdown)+formatNumber(tax.step)}}@{{tax.rate+\"%\"}}</td>\n          <td>{{formatNumber(tax.tax)}}</td>\n        </tr>\n        <tr v-for=\"i in stdRateThisYearExtraLines\" :key=\"i\">\n          <td colspan=\"2\">&nbsp;</td>\n        </tr>\n        <tr>\n          <th class=\"beforeline\">按標準稅率計算之稅款：</th>\n          <th class=\"beforeline\">{{formatNumber(taxResult.taxThisYear.stdRateTax)}}</th>\n        </tr>\n        <tr>\n          <th colspan=\"2\" class=\"line\">{{$root.taxYear1}}年度最終稅款</th>\n        </tr>\n        <tr>\n          <td>適用稅率：{{taxResult.taxThisYear.rate==\"progressiveTax\" ? \"累進稅率\" : \"標準稅率\"}}</td>\n          <td>{{formatNumber(taxResult.taxThisYear.tax)}}</td>\n        </tr>\n        <tr>\n          <td>減：{{$root.taxYear1}}年度暫繳稅實額</td>\n          <td>{{formatNumber(taxResult.taxThisYearProvisional)}}</td>\n        </tr>\n        <tr>\n          <td>減：稅務寬減</td>\n          <td>{{formatNumber(taxResult.rebate)}}</td>\n        </tr>\n        <tr>\n          <th>{{$root.taxYear1}}年度最終稅款</th>\n          <th>{{formatNumber(taxResult.taxThisYearFinal)}}</th>\n        </tr>\n      </table>\n    </div>\n    <div class=\"border taxResult\">\n      <table>\n        <tr>\n          <th colspan=\"2\">{{$root.taxYear2}}年度</th>\n        </tr>\n        <tr>\n          <th colspan=\"2\">累進稅率</th>\n        </tr>\n        <tr>\n          <td>總入息</td>\n          <td>{{formatNumber(taxResult.taxNextYearProvisional.income)}}</td>\n        </tr>\n        <tr>\n          <td>減：扣除項目：強積金僱員供款</td>\n          <td>{{formatNumber(taxResult.taxNextYearProvisional.mpf)}}</td>\n        </tr>\n        <tr>\n          <td>減：其他扣除項目</td>\n          <td>{{formatNumber(taxResult.taxNextYearProvisional.otherDeductions)}}</td>\n        </tr>\n        <tr>\n          <td>減：基本免稅額</td>\n          <td>{{formatNumber(taxResult.taxNextYearProvisional.basicAllowance)}}</td>\n        </tr>\n        <tr>\n          <td>減：已婚人士免稅額</td>\n          <td>{{formatNumber(taxResult.taxNextYearProvisional.marriedAllowance)}}</td>\n        </tr>\n        <tr>\n          <td>減：供養父母/祖父母/外祖父母免稅額</td>\n          <td>{{formatNumber(taxResult.taxNextYearProvisional.parentAllowance)}}</td>\n        </tr>\n        <tr>\n          <td>減：供養兄弟姊妹免稅額</td>\n          <td>{{formatNumber(taxResult.taxNextYearProvisional.siblingAllowance|formatNumber)}}</td>\n        </tr>\n        <tr>\n          <td>減：子女免稅額</td>\n          <td>{{formatNumber(taxResult.taxNextYearProvisional.childAllowance)}}</td>\n        </tr>\n        <tr>\n          <td>減：單親免稅額</td>\n          <td>{{formatNumber(taxResult.taxNextYearProvisional.singleParentAllowance)}}</td>\n        </tr>\n        <tr>\n          <td>減：傷殘受養人免稅額</td>\n          <td>{{formatNumber(taxResult.taxNextYearProvisional.disabledDependentAllowance)}}</td>\n        </tr>\n        <tr>\n          <td>減：傷殘人士免稅額</td>\n          <td>{{formatNumber(taxResult.taxNextYearProvisional.personalDisabilityAllowance)}}</td>\n        </tr>\n        <tr>\n          <td>應課稅入息</td>\n          <td>{{formatNumber(taxResult.taxNextYearProvisional.taxableIncome)}}</td>\n        </tr>\n        <tr>\n          <th colspan=\"2\">累進稅率稅款計算</th>\n        </tr>\n        <tr v-for=\"(tax,index) in taxResult.taxNextYearProvisional.progressiveTaxBreakdown\" :key=\"index\">\n          <td>{{progressiveTaxPrefix(index,taxResult.taxNextYearProvisional.progressiveTaxBreakdown)+formatNumber(tax.step)}}@{{tax.rate+\"%\"}}</td>\n          <td>{{formatNumber(tax.tax)}}</td>\n        </tr>\n        <tr v-for=\"i in progressiveNextYearExtraLines\" :key=\"i\">\n          <td colspan=\"2\">&nbsp;</td>\n        </tr>\n        <tr>\n          <th class=\"beforeline\">按累進稅率計算之稅款：</th>\n          <th class=\"beforeline\">{{formatNumber(taxResult.taxNextYearProvisional.progressiveTax)}}</th>\n        </tr>\n        <tr>\n          <th colspan=\"2\" class=\"line\">標準稅率</th>\n        </tr>\n        <tr>\n          <td>總入息</td>\n          <td>{{formatNumber(taxResult.taxNextYearProvisional.income)}}</td>\n        </tr>\n        <tr>\n          <td>減：扣除項目：強積金僱員供款</td>\n          <td>{{formatNumber(taxResult.taxNextYearProvisional.mpf)}}</td>\n        </tr>\n        <tr>\n          <td>減：其他扣除項目</td>\n          <td>{{formatNumber(taxResult.taxNextYearProvisional.otherDeductions)}}</td>\n        </tr>\n        <tr>\n          <td>應課稅入息</td>\n          <td>{{formatNumber(taxResult.taxNextYearProvisional.taxableIncomeStdRate)}}</td>\n        </tr>\n        <tr>\n          <th colspan=\"2\">標準稅率稅款計算</th>\n        </tr>\n        <tr v-for=\"(tax,index) in taxResult.taxNextYearProvisional.stdRateTaxBreakdown\" :key=\"index\">\n          <td>{{progressiveTaxPrefix(index,taxResult.taxNextYearProvisional.stdRateTaxBreakdown)+formatNumber(tax.step)}}@{{tax.rate+\"%\"}}</td>\n          <td>{{formatNumber(tax.tax)}}</td>\n        </tr>\n        <tr v-for=\"i in stdRateNextYearExtraLines\" :key=\"i\">\n          <td colspan=\"2\">&nbsp;</td>\n        </tr>\n        <tr>\n          <th class=\"beforeline\">按標準稅率計算之稅款：</th>\n          <th class=\"beforeline\">{{formatNumber(taxResult.taxNextYearProvisional.stdRateTax)}}</th>\n        </tr>\n        <tr>\n          <th colspan=\"2\" class=\"line\">{{$root.taxYear1}}年度暫繳稅</th>\n        </tr>\n        <tr>\n          <td>適用稅率：{{taxResult.taxNextYearProvisional.rate==\"progressiveTax\" ? \"累進稅率\" : \"標準稅率\"}}</td>\n          <td>{{formatNumber(taxResult.taxNextYearProvisional.tax)}}</td>\n        </tr>\n        <tr>\n          <td>&nbsp;</td>\n          <td>&nbsp;</td>\n        </tr>\n        <tr>\n          <td>&nbsp;</td>\n          <td>&nbsp;</td>\n        </tr>\n        <tr>\n          <th>{{$root.taxYear2}}年度暫繳稅</th>\n          <th>{{formatNumber(taxResult.taxNextYearProvisional.tax)}}</th>\n        </tr>\n      </table>\n    </div>\n    <div class=\"taxPayable\">\n      總稅款：{{formatNumber(taxResult.taxPayable)}}\n    </div>\n    <div class=\"button\">\n      <button type=\"button\" @click=\"back()\">返回報稅表 (<span style=\"text-decoration: underline\">Backspace</span>)</button>\n      <button type=\"button\" @click=\"disableModalMethod()\">關閉</button>\n    </div>\n  </div>\n</vue-final-modal>\n</template>\n\n<style>\n@media (min-width: 800px) {\n  .taxResultModalWidth {\n    width: 700px\n  }\n}\n</style>\n\n<style scoped>\ntable {\n  border-collapse: collapse;\n}\n\n.beforeline {\n  padding-bottom: 5px;\n}\n\n.line {\n  border-top: 1px solid black;\n  padding-top: 5px;\n}\n\n.taxResultRoot {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, 350px);\n}\n\n.taxResult th:nth-child(1), .taxResult td:nth-child(1) {\n  text-align: left;\n}\n\n.taxResult th:nth-child(2), .taxResult td:nth-child(2) {\n  text-align: right;\n}\n\n.taxResult, .taxPayable {\n  padding: 5px;\n}\n\n.taxPayable {\n  font-weight: bold;\n  grid-column: 1/-1;\n}\n\n.button {\n  grid-column: 1/-1;\n}\n</style>\n\n<script>\nconst numberFormatter = new Intl.NumberFormat()\n\nexport default {\n  props: ['taxResult'],\n  data: () => ({\n    show: false\n  }),\n  computed: {\n    progressiveThisYearExtraLines () {\n      const lines = this.taxResult.taxNextYearProvisional.progressiveTaxBreakdown.length - this.taxResult.taxThisYear.progressiveTaxBreakdown.length\n      return lines < 0 ? 0 : lines\n    },\n    progressiveNextYearExtraLines () {\n      const lines = this.taxResult.taxThisYear.progressiveTaxBreakdown.length - this.taxResult.taxNextYearProvisional.progressiveTaxBreakdown.length\n      return lines < 0 ? 0 : lines\n    },\n    stdRateThisYearExtraLines () {\n      const lines = this.taxResult.taxNextYearProvisional.stdRateTaxBreakdown.length - this.taxResult.taxThisYear.stdRateTaxBreakdown.length\n      return lines < 0 ? 0 : lines\n    },\n    stdRateNextYearExtraLines () {\n      const lines = this.taxResult.taxThisYear.stdRateTaxBreakdown.length - this.taxResult.taxNextYearProvisional.stdRateTaxBreakdown.length\n      return lines < 0 ? 0 : lines\n    }\n  },\n  methods: {\n    back () {\n      this.$vfm.hide('taxResultModal')\n      this.$vfm.show('taxPayerModal')\n    },\n    disableModalMethod () {\n      this.$vfm.hide('taxResultModal')\n    },\n    progressiveTaxPrefix (index, progressiveTaxBreakdown) {\n      if (progressiveTaxBreakdown.length === 1) {\n        return '全數'\n      } else if (index === 0) {\n        return '首'\n      } else if (index === progressiveTaxBreakdown.length - 1) {\n        return '餘'\n      } else {\n        return '次'\n      }\n    },\n    formatNumber: (num) => numberFormatter.format(num)\n  }\n}\n</script>\n","import { render } from \"./taxResult.vue?vue&type=template&id=6c6e627b&scoped=true\"\nimport script from \"./taxResult.vue?vue&type=script&lang=js\"\nexport * from \"./taxResult.vue?vue&type=script&lang=js\"\n\nimport \"./taxResult.vue?vue&type=style&index=0&id=6c6e627b&lang=css\"\nimport \"./taxResult.vue?vue&type=style&index=1&id=6c6e627b&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6c6e627b\"]])\n\nexport default __exports__","import { render } from \"./Main.vue?vue&type=template&id=759e4593&scoped=true\"\nimport script from \"./Main.vue?vue&type=script&lang=js\"\nexport * from \"./Main.vue?vue&type=script&lang=js\"\n\nimport \"./Main.vue?vue&type=style&index=0&id=759e4593&lang=css\"\nimport \"./Main.vue?vue&type=style&index=1&id=759e4593&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-759e4593\"]])\n\nexport default __exports__","'use strict'\n\n/*\n  name: name\n  martialStatus:\n    0: Seperate Taxation\n    1: Joint Assessment\n    2: Single Parent at next year\n    3: Single Parent at previous year\n  income: income\n  mpf: MPF paid by employee\n  otherDeductionsThisYear: all other deductions appliable to this year\n  otherDeductionsNextYear: all other deductions applicable to next year\n  siblings: number of dependent brother or sisters\n  siblings18: number of dependent brother or sisters illegible in next year\n  disabledSiblings: number of disabled siblings\n  chidren: number of childen (not newborn)\n  children18: number of children illegible in next year\n  newbornChildren: number of newborn children\n  otherDisabledDependants: number of disabled dependants (not siblings nor parents)\n  provisionalTax: paid provisional tax\n  disabledPerson: Personal disability\n*/\nexport class TaxPayer {\n  constructor (name) {\n    this.name = name\n    this.martialStatus = 0\n    this.income = 0\n    this.mpf = 0\n    this.otherDeductionsThisYear = 0\n    this.otherDeductionsNextYear = 0\n    this.siblings = 0\n    this.siblings18 = 0\n    this.disabledSiblings = 0\n    this.children = 0\n    this.children18 = 0\n    this.newbornChildrenThisYear = 0\n    this.newbornChildrenNextYear = 0\n    this.otherDisabledDependants = 0\n    this.provisionalTax = 0\n    this.disabledPerson = false\n  }\n}\n\n/*\n  name: name\n  age: one of the following values:\n       0 = disabled parent, age irrelevant\n       1 = reach 55 in next year\n       2 = reach 55 in prev year\n       3 = reach 65 in next year\n       4 = reach 65 in prev year\n  livingTogether: Map of (taxpayerid, livingTogether(boolean))\n  claimedBy: claimed by taxpayerid\n*/\nexport class Parent {\n  constructor (name, claimedBy) {\n    this.name = name\n    this.age = 1\n    this.livingTogether = new Map()\n    this.claimedBy = claimedBy\n  }\n}\n","import { createStore } from 'vuex'\nimport { TaxPayer, Parent } from './objects.js'\n\nexport default createStore({\n  state: {\n    taxPayerMap: new Map([[1, new TaxPayer('納稅人1')]]),\n    taxPayerCounter: 1,\n    parentMap: new Map(),\n    parentCounter: 0\n  },\n  getters: {\n    parentsClaimedByTaxpayer (state) {\n      const parentsMapForTaxpayable = new Map()\n      for (const taxPayerId of state.taxPayerMap.keys()) {\n        parentsMapForTaxpayable.set(taxPayerId, [])\n      }\n      for (const [parentId, parent] of state.parentMap) {\n        const parents = parentsMapForTaxpayable.get(parent.claimedBy)\n        parents.push({ id: parentId, name: parent.name, age: parent.age, livingTogether: parent.livingTogether.get(parent.claimedBy) })\n        parentsMapForTaxpayable.set(parent.claimedBy, parents)\n      }\n      return parentsMapForTaxpayable\n    }\n  },\n  mutations: {\n    addTaxPayer (state) {\n      state.taxPayerCounter++\n      state.taxPayerMap.set(state.taxPayerCounter, new TaxPayer('納稅人'.concat(state.taxPayerCounter)))\n      const firstTaxPayerId = state.taxPayerMap.keys().next().value\n      for (const parent of state.parentMap.values()) {\n        if (parent.claimedBy === undefined) {\n          parent.claimedBy = firstTaxPayerId\n        }\n        parent.livingTogether.set(state.taxPayerCounter, false)\n      }\n    },\n    deleteTaxPayer (state, id) {\n      state.taxPayerMap.delete(id)\n      const firstTaxPayerId = state.taxPayerMap.keys().next().value\n      for (const parent of state.parentMap.values()) {\n        parent.claimedBy = firstTaxPayerId\n        parent.livingTogether.delete(id)\n      }\n    },\n    changeTaxPayerProp (state, { i, prop, val }) {\n      state.taxPayerMap.get(i)[prop] = val\n    },\n    addParent (state) {\n      const firstTaxPayerId = state.taxPayerMap.keys().next().value\n      state.parentCounter++\n      const newParent = new Parent('父母'.concat(state.parentCounter), firstTaxPayerId)\n      for (const i of state.taxPayerMap.keys()) {\n        newParent.livingTogether.set(i, false)\n      }\n      state.parentMap.set(state.parentCounter, newParent)\n    },\n    deleteParent (state, id) {\n      state.parentMap.delete(id)\n    },\n    changeParentProp (state, { i, prop, val }) {\n      state.parentMap.get(i)[prop] = val\n    },\n    setParentClaimedBy (state, { parentId, taxPayerId }) {\n      state.parentMap.get(parentId).claimedBy = taxPayerId\n    },\n    setParentLivingTogether (state, { parentId, taxPayerId, livingTogether }) {\n      state.parentMap.get(parentId).livingTogether.set(taxPayerId, livingTogether)\n    }\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n","'use strict'\nimport { createApp } from 'vue'\nimport VueFinalModal from 'vue-final-modal'\nimport TaxCalculator from './Main.vue'\nimport store from './store'\n\ncreateApp(TaxCalculator).use(store).use(VueFinalModal()).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkhksalariestax\"] = self[\"webpackChunkhksalariestax\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(8692); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","class","key","_createElementBlock","_Fragment","_createElementVNode","_hoisted_1","_createTextVNode","_toDisplayString","_ctx","taxYear2","href","_hoisted_2","_hoisted_3","type","_cache","$event","totalSiblings","number","totalSiblings18","totalDisabledSiblings","onClick","$options","autocalculate","arguments","_hoisted_4","addTaxPayer","computeTax","_renderList","taxPayerMap","_ref","_ref2","_slicedToArray","i","taxPayer","size","value","name","onChange","changeTaxPayerProp","prop","val","target","_hoisted_5","readonly","undefined","taxPayerResult","get","formatNumber","taxPayable","_hoisted_6","showTaxPayerModal","_hoisted_7","deleteTaxPayer","_hoisted_8","siblings","parseInt","min","_hoisted_9","disabledSiblings","_hoisted_10","$root","siblings18","_hoisted_11","_hoisted_12","parentsClaimedByTaxpayer","parent","length","_hoisted_13","_createCommentVNode","_hoisted_14","addParent","parentMap","_ref3","_ref4","changeParentProp","_hoisted_15","selected","age","_hoisted_17","label","taxYear1","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_16","deleteParent","_hoisted_22","_hoisted_23","_ref5","_ref6","taxPayerId","concat","checked","claimedBy","setParentClaimedBy","_hoisted_24","livingTogether","setParentLivingTogether","_hoisted_25","showTaxPayerIndex","_createBlock","_component_taxpayer","ref","index","onShowTaxResult","showTaxResult","onOpened","taxpayerOpen","onBeforeClose","taxpayerClose","_component_taxresult","taxresultOpen","taxresultClose","TaxRule","constructor","progressiveRate","stdRate","basicAllowance","marriedAllowance","mpfMax","mpfMaxMultiplier","parentAllowance","parentAdditionalAllowance","parentAllowance55","parentAdditionalAllowance55","siblingAllowance","disabledDependentAllowance","childAllowance","newbornChildAdditionalAllowance","singleParentAllowance","personalDisabilityAllowance","provisionalYear","this","calculateMpfDeduction","taxpayer","mpfDeduction","Math","floor","mpf","martialStatus","calculateParentAllowance","parents","totalParentAllowance","parentCount","nonLivingTogether","livingTogether55","nonLivingTogether55","reduce","parentCountAccu","parentObj","calculateSiblingAllowance","calculateDisabledDependentAllowance","disabledDependents","otherDisabledDependants","count","calculateChildAllowanceAndSingleParentAllowance","children","newbornChildren","newbornChildrenThisYear","newbornChildrenNextYear","children18","calculateTax","otherDeductions","otherDeductionsNextYear","otherDeductionsThisYear","mpfFinal","disabledPerson","_this$calculateChildA","taxableIncome","income","taxableIncomeStdRate","_step","stepTotal","progressiveTax","progressiveTaxBreakdown","_iterator","_createForOfIteratorHelper","s","n","done","step","remainder","stepTax","rate","push","tax","err","e","f","_step2","stdRateTax","stdRateTaxBreakdown","_iterator2","taxResult","taxRebate","rebateRate","maxRebate","rebate","ceil","taxRule2024","Infinity","taxRule2025","taxThisYear","taxNextYearProvisional","taxThisYearFinal","provisionalTax","taxThisYearProvisional","_marked","_regeneratorRuntime","mark","distinglishableBallInBoxes","_marked2","indistinglishableBallInBoxes","balls","boxes","counter","numberOfBalls","numberOfBoxes","maxCounter","boxOutput","box","digit","ballInBox","wrap","_context","prev","next","Map","set","unshift","stop","j","_context2","abrupt","parentList","taxpayerList","state","$store","minimumState","minimumTax","keys","_step3","_iterator3","combinatorics","_step4","parentCombo","_iterator4","_step5","siblingCombo","_iterator5","_step6","sibling18Combo","_iterator6","disabledSiblingCombo","totalTax","tempState","Object","assign","_step7","_iterator7","_step7$value","parentId","_step8","parentsMapForTaxpayable","_iterator8","taxpayerId","_step10","_iterator10","parentsForTaxpayable","_step9","_iterator9","_step9$value","taxPayerClone","taxrule","console","log","replaceState","title","_component_vue_final_modal","modelValue","show","classes","default","_withCtx","lazy","pattern","$props","$emit","disableModalMethod","_","numberFormatter","Intl","NumberFormat","parseNumberWithComma","num","replace","props","data","emits","computed","commit","format","methods","$vfm","hide","event","__exports__","colspan","progressiveTaxPrefix","progressiveThisYearExtraLines","stdRateThisYearExtraLines","progressiveNextYearExtraLines","stdRateNextYearExtraLines","back","style","lines","_objectSpread","mapState","mapGetters","components","taxresult","created","NaN","mapMutations","isNaN","delete","nextVal","getters","taxpayerOpenKeydownListener","document","activeElement","dispatchEvent","Event","taxresultOpenKeydownListener","$refs","$el","addEventListener","removeEventListener","render","TaxPayer","Parent","createStore","taxPayerCounter","parentCounter","_step2$value","mutations","firstTaxPayerId","values","newParent","actions","modules","createApp","TaxCalculator","use","store","VueFinalModal","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","fulfilled","every","splice","r","d","definition","o","defineProperty","enumerable","g","globalThis","Function","window","obj","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}